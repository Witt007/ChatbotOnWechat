(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['IxAsynciterable'], factory) :
    (factory(global.IxAsynciterable = global.IxAsynciterable || {}));
}(this, (function (exports) {function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var d=da;a=a.split(".");for(var e=0;e<a.length-1;e++){var c=a[e];if(!(c in d))break a;d=d[c]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&ba(d,a,{configurable:!0,writable:!0,value:b})}}
ea("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new d(e+(f||"")+"_"+c++,f)}function d(f,g){this.ma=f;ba(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;d.prototype.toString=function(){return this.ma};var e="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",c=0;return b});
ea("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<b.length;d++){var e=da[b[d]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&ba(e.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(aa(this))}})}return a});ea("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")});
function fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ha(a){if(!(a instanceof Array)){a=m(a);for(var b,d=[];!(b=a.next()).done;)d.push(b.value);a=d}return a}var ia="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ja;
if("function"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var ka;a:{var la={a:!0},ma={};try{ma.__proto__=la;ka=ma.a;break a}catch(a){}ka=!1}ja=ka?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var na=ja;
function r(a,b){a.prototype=ia(b.prototype);a.prototype.constructor=a;if(na)na(a,b);else for(var d in b)if("prototype"!=d)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d];a.Ba=b.prototype}function oa(){this.O=!1;this.F=null;this.h=void 0;this.i=1;this.C=this.B=0;this.ja=this.v=null}function pa(a){if(a.O)throw new TypeError("Generator is already running");a.O=!0}oa.prototype.P=function(a){this.h=a};
oa.prototype.R=function(a){this.v={ia:a,la:!0};this.i=this.B||this.C};oa.prototype.return=function(a){this.v={return:a};this.i=this.C};function t(a,b,d){a.i=d;return{value:b}}oa.prototype.g=function(a){this.i=a};function qa(a,b,d){a.B=b;void 0!=d&&(a.C=d)}function ra(a){a.B=0;a.C=2}function sa(a){a.B=0;var b=a.v.ia;a.v=null;return b}function ta(a){a.ja=[a.v];a.B=0;a.C=0}function ua(a){var b=a.ja.splice(0)[0];(b=a.v=a.v||b)?b.la?a.i=a.B||a.C:void 0!=b.g&&a.C<b.g?(a.i=b.g,a.v=null):a.i=a.C:a.i=0}
function va(a){this.l=new oa;this.xa=a}va.prototype.P=function(a){pa(this.l);if(this.l.F)return wa(this,this.l.F.next,a,this.l.P);this.l.P(a);return xa(this)};function ya(a,b){pa(a.l);var d=a.l.F;if(d)return wa(a,"return"in d?d["return"]:function(e){return{value:e,done:!0}},b,a.l.return);a.l.return(b);return xa(a)}va.prototype.R=function(a){pa(this.l);if(this.l.F)return wa(this,this.l.F["throw"],a,this.l.P);this.l.R(a);return xa(this)};
function wa(a,b,d,e){try{var c=b.call(a.l.F,d);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return a.l.O=!1,c;var f=c.value}catch(g){return a.l.F=null,a.l.R(g),xa(a)}a.l.F=null;e.call(a.l,f);return xa(a)}function xa(a){for(;a.l.i;)try{var b=a.xa(a.l);if(b)return a.l.O=!1,{value:b.value,done:!1}}catch(d){a.l.h=void 0,a.l.R(d)}a.l.O=!1;if(a.l.v){b=a.l.v;a.l.v=null;if(b.la)throw b.ia;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function za(a){this.next=function(b){return a.P(b)};this.throw=function(b){return a.R(b)};this.return=function(b){return ya(a,b)};this[Symbol.iterator]=function(){return this}}function u(a,b){b=new za(new va(b));na&&a.prototype&&na(b,a.prototype);return b}function Aa(a){function b(e){return a.next(e)}function d(e){return a.throw(e)}return new Promise(function(e,c){function f(g){g.done?e(g.value):Promise.resolve(g.value).then(b,d).then(f,c)}f(a.next())})}
function x(a){return Aa(new za(new va(a)))}function z(a){var b=a[Symbol.asyncIterator];return void 0!==b?b.call(a):new Ba(m(a))}function Ba(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};void 0!==a["throw"]&&(this["throw"]=function(b){return Promise.resolve(a["throw"](b))});void 0!==a["return"]&&(this["return"]=function(b){return Promise.resolve(a["return"](b))})}
function A(a,b){this.action=a;this.value=b}function Ca(a,b,d,e){this.method=a;this.L=b;this.resolve=d;this.reject=e}function Da(a){this.frame=a;this.next=null}function Ea(){this.V=this.D=null}Ea.prototype.isEmpty=function(){return null===this.D};Ea.prototype.first=function(){if(this.D)return this.D.frame;throw Error("no frames in executionQueue");};function Fa(a){a.D&&(a.D=a.D.next,a.D||(a.V=null))}Ea.prototype.enqueue=function(a){a=new Da(a);this.V?this.V.next=a:this.D=a;this.V=a};
function B(a){this.ka=a;this.s=null;this.m=new Ea;this[Symbol.asyncIterator]=function(){return this};var b=this;this.ta=function(d){var e=b.m.first();!0===d.done?(b.s=null,e.method="next",e.L=d.value):(e.resolve({value:d.value,done:!1}),Fa(b.m));C(b)};this.sa=function(d){Ga(b,d)};this.ba=function(d){Ha(b,d)}}function Ia(a,b,d){return new Promise(function(e,c){var f=a.m.isEmpty();a.m.enqueue(new Ca(b,d,e,c));f&&C(a)})}B.prototype.next=function(a){return Ia(this,"next",a)};
B.prototype.return=function(a){return Ia(this,"return",new A(0,a))};B.prototype.throw=function(a){return Ia(this,"throw",a)};function C(a){if(!a.m.isEmpty())try{if(a.s){if(!a.s)throw Error("no delegate to perform execution");var b=a.m.first();if(b.method in a.s)try{a.s[b.method](b.L).then(a.ta,a.sa).catch(a.ba)}catch(d){Ga(a,d)}else a.s=null,C(a)}else Ja(a)}catch(d){Ha(a,d)}}
function Ja(a){var b=a.m.first();try{var d=a.ka[b.method](b.L);if(d.value instanceof A)switch(d.value.action){case 0:Promise.resolve(d.value.value).then(function(e){b.resolve({value:e,done:d.done});Fa(a.m);C(a)},function(e){b.reject(e);Fa(a.m);C(a)}).catch(a.ba);break;case 1:a.s=z(d.value.value);b.method="next";b.L=void 0;C(a);break;case 2:Promise.resolve(d.value.value).then(function(e){b.method="next";b.L=e;C(a)},function(e){b.method="throw";b.L=e;C(a)}).catch(a.ba);break;default:throw Error("Unrecognized AsyncGeneratorWrapper$ActionEnum");
}else b.resolve(d),Fa(a.m),C(a)}catch(e){b.reject(e),Fa(a.m),C(a)}}function Ga(a,b){var d=a.m.first();a.s=null;d.method="throw";d.L=b;C(a)}function Ha(a,b){a.m.isEmpty()||(a.m.first().reject(b),Fa(a.m));a.s&&"return"in a.s&&(a.s["return"](void 0),a.s=null);a.ka["return"](void 0);C(a)}function D(){for(var a=Number(this),b=[],d=a;d<arguments.length;d++)b[d-a]=arguments[d];return b}function Ka(a){return this instanceof Ka?this:new Ka(a)};function E(){this.H=!1;this.K=[];this.u=[]}E.prototype[Symbol.asyncIterator]=function(){return this};E.prototype.write=function(a){this._push({type:"value",value:a})};E.prototype.error=function(a){this._push({type:"error",error:a})};E.prototype._push=function(a){if(this.H)throw Error("AsyncSink already ended");if(0<this.u.length){var b=this.u.shift(),d=b.resolve;b=b.reject;"error"===a.type?b(a.error):d({done:!1,value:a.value})}else this.K.push(a)};
E.prototype.next=function(){var a=this;if(0<this.K.length){var b=this.K.shift(),d=b.value,e=b.error;return"error"===b.type?Promise.reject(e):Promise.resolve({done:!1,value:d})}return this.H?Promise.resolve({done:!0}):new Promise(function(c,f){a.u.push({resolve:c,reject:f})})};E.prototype.end=function(){for(;0<this.u.length;)this.u.shift().resolve({done:!0});this.H=!0};function La(a,b){return"undefined"===typeof b?a:function(d,e){return a.call(b,d,e)}};function Ma(a){return a}function F(a){return x(function(b){return b.return(a)})};function H(a){return"function"===typeof a}function I(a){return null!=a&&Object(a)===a}function Na(a){return null!=a&&Object(a)===a&&"function"===typeof a.subscribe};var Oa=Math.pow(2,53)-1;function K(a){a=Error.call(this,void 0===a?"The operation has been aborted":a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,K.prototype);Error.captureStackTrace(this,this.constructor);this.name="AbortError"}r(K,Error);da.Object.defineProperty(K.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!0,get:function(){return"AbortError"}});function L(a){if(a&&a.aborted)throw new K;}
Object.defineProperty(K,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return I(a)&&("AbortError"===a.constructor.name||"AbortError"===a[Symbol.toStringTag])}});function M(){}M.prototype.forEach=function(a,b,d){var e=this,c,f,g,h,k;return x(function(l){1==l.i&&(c=d?new Pa(e,d):e,f=0,g=z(c));if(5!=l.i)return t(l,g.next(),5);h=l.h;if(h.done)return l.g(0);k=h.value;return t(l,a.call(b,k,f++,d),2)})};M.prototype.pipe=function(){for(var a=D.apply(0,arguments),b=-1,d=a.length,e=this;++b<d;)e=a[b](M.as(e));return e};
M.from=function(a,b,d){b=void 0===b?F:b;b=La(b,d);if(null!=a&&H(a[Symbol.iterator])||I(a)&&H(a[Symbol.asyncIterator]))return new N(a,b);if(I(a)&&H(a.then))return new O(a,b);if(Na(a))return new P(a,b);if(I(a)&&"number"===typeof a.length)return new Q(a,b);if(I(a)&&!H(a[Symbol.iterator])&&H(a.next))return d={},new N((d[Symbol.asyncIterator]=function(){return a},d),b);throw new TypeError("Input type not supported");};
M.as=function(a){return a instanceof M?a:"string"===typeof a?new Q([a],F):null!=a&&H(a[Symbol.iterator])||I(a)&&H(a[Symbol.asyncIterator])?new N(a,F):I(a)&&H(a.then)?new O(a,F):Na(a)?new P(a,F):I(a)&&"number"===typeof a.length?new Q(a,F):new Q([a],F)};M.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(M,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"AsyncIterableX"!==a[Symbol.toStringTag])}});function R(){this.H=!1;this.K=[];this.u=[]}
R.prototype[Symbol.asyncIterator]=function(){return this};R.prototype.write=function(a){this._push({type:"value",value:a})};R.prototype.error=function(a){this._push({type:"error",error:a})};R.prototype._push=function(a){if(this.H)throw Error("AsyncSink already ended");if(0<this.u.length){var b=this.u.shift(),d=b.resolve;b=b.reject;"error"===a.type?b(a.error):d({done:!1,value:a.value})}else this.K.push(a)};
R.prototype.next=function(){var a=this;if(0<this.K.length){var b=this.K.shift(),d=b.value,e=b.error;return"error"===b.type?Promise.reject(e):Promise.resolve({done:!1,value:d})}return this.H?Promise.resolve({done:!0}):new Promise(function(c,f){a.u.push({resolve:c,reject:f})})};R.prototype.end=function(){for(;0<this.u.length;)this.u.shift().resolve({done:!0});this.H=!0};function Q(a,b){this.j=a;this.I=b}r(Q,M);Q.as=M.as;Q.from=M.from;
Q.prototype[Symbol.asyncIterator]=function(){var a=this;return new B(function d(){var e,c,f,g;return u(d,function(h){if(1==h.i){e=0;var k=Number(a.j.length);c=Math.min(Math.max(isNaN(k)?0:0!==k&&isFinite(k)?(0<k?1:-1)*Math.floor(Math.abs(k)):k,0),Oa)}if(5!=h.i){if(!(e<c))return h.g(0);f=A;g=0;return t(h,new A(2,a.I(a.j[e],e++)),5)}return t(h,new f(g,h.h),2)})}())};function N(a,b){this.j=a;this.I=b}r(N,M);N.as=M.as;N.from=M.from;
N.prototype[Symbol.asyncIterator]=function(){var a=this;return new B(function d(){var e,c,f,g,h,k;return u(d,function(l){switch(l.i){case 1:e=0,c=z(a.j);case 2:return t(l,new A(2,c.next()),5);case 5:f=l.h;if(f.done){l.g(0);break}g=f.value;h=A;k=0;return t(l,new A(2,a.I(g,e++)),7);case 7:return t(l,new h(k,l.h),2)}})}())};function O(a,b){this.j=a;this.I=b}r(O,M);O.as=M.as;O.from=M.from;
O.prototype[Symbol.asyncIterator]=function(){var a=this;return new B(function d(){var e,c,f;return u(d,function(g){return 1==g.i?t(g,new A(2,a.j),2):4!=g.i?(e=g.h,c=A,f=0,t(g,new A(2,a.I(e,0)),4)):t(g,new c(f,g.h),0)})}())};function P(a,b){this.qa=a;this.I=b}r(P,M);P.as=M.as;P.from=M.from;
P.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){function c(){f.error(new K)}var f,g,h,k,l,n;return u(e,function(q){switch(q.i){case 1:L(a),f=new R,g=b.qa.subscribe({next:function(p){f.write(p)},error:function(p){f.error(p)},complete:function(){f.end()}}),a&&a.addEventListener("abort",c),h=0,ra(q),k=void 0;case 4:return t(q,new A(2,f.next()),7);case 7:if((k=q.h).done){q.g(2);break}L(a);l=A;n=0;return t(q,new A(2,b.I(k.value,h++)),9);case 9:return t(q,new l(n,q.h),
4);case 2:ta(q),a&&a.removeEventListener("abort",c),g.unsubscribe(),ua(q)}})}())};function Pa(a,b){this.j=a;this.aa=b}Pa.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.aa)};
try{(function(a){a||(M.prototype.pipe=function(){for(var b=D.apply(0,arguments),d=-1,e=b.length,c=this,f;++d<e;)if(f=b[d],"function"===typeof f)c=f(M.as(c));else if(I(f)&&H(f.end)&&H(f._write)&&"boolean"===typeof f.writable&&I(f._writableState))return b=b[d+1]||{},b=void 0===b.end?!0:b.end,I(c)&&H(c.pipe)&&H(c._read)&&"boolean"===typeof c.readable&&I(c._readableState)?f=c.pipe(f,{end:b}):(c=M.as(c),d=c.Ca,e=void 0,e=void 0===e?f.za||{Aa:!0}:e,f=d.call(c,e).pipe(f,{end:b})),f;return c})})("object"===
typeof window&&"object"===typeof document&&9===document.nodeType)}catch(a){};function Qa(){this.A=[]}Qa.prototype.clear=function(){this.A=[]};Qa.prototype.get=function(a){return this.A[a]};Qa.prototype.push=function(a){this.A.push(a)};Qa.prototype.done=function(){};da.Object.defineProperties(Qa.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.A.length}}});function T(a){this.G=0;this.T=a;this.A=new Map}T.prototype.clear=function(){this.A.clear()};T.prototype.done=function(){this.T--};
T.prototype.get=function(a){if(!this.A.has(a))throw Error("Element no longer available in the buffer.");var b=this.A.get(a),d=b.value;0===--b.count&&this.A.delete(a);return d};T.prototype.push=function(a){this.A.set(this.G++,{value:a,count:this.T})};da.Object.defineProperties(T.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.G}},ya:{configurable:!0,enumerable:!0,get:function(){return this.T},set:function(a){this.T=a}}});function Ra(a){this.X=a}r(Ra,M);Ra.as=M.as;Ra.from=M.from;Ra.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f;return u(e,function(g){switch(g.i){case 1:return L(a),t(g,new A(2,b.X(a)),2);case 2:c=g.h;case 3:return t(g,new A(2,c.next()),5);case 5:if((f=g.h).done)g.g(0);else return t(g,new A(0,f.value),3)}})}())};function U(a,b){this.U=this.S=null;this.fa=!1;this.j=a;this.W=b}r(U,M);U.as=M.as;U.from=M.from;U.prototype[Symbol.asyncIterator]=function(a){L(a);return Sa(this,0)};
function Sa(a,b){b=void 0===b?0:b;return new B(function e(){var c,f,g,h;return u(e,function(k){switch(k.i){case 1:c=b-1,f=!1,g=a.W,ra(k);case 4:if(!(++c<g.count)){k.g(7);break}return t(k,new A(0,g.get(c)),8);case 8:k.g(6);break;case 7:if(a.fa)throw a.S;null===a.U&&(a.U=a.j.next().then(function(l){a.U=null;l.done||g.push(l.value);return l}));return t(k,new A(2,a.U.catch(function(l){a.S=l;a.fa=!0;throw l;})),9);case 9:h=k.h;if(f=h.done){k.g(6);break}return t(k,new A(0,g.get(c)),6);case 6:if(!f){k.g(4);
break}case 2:ta(k),g.done(),ua(k)}})}())}function Ta(){var a=void 0===a?-1:a;return function(b){return-1===a?new U(b[Symbol.asyncIterator](),new Qa):new U(b[Symbol.asyncIterator](),new T(a))}};function Ua(a,b){this.j=a;this.aa=b}r(Ua,M);Ua.as=M.as;Ua.from=M.from;Ua.prototype[Symbol.asyncIterator]=function(){return this.j[Symbol.asyncIterator](this.aa)};function W(a,b){return b?new Ua(a,b):a};function Va(a){return x(function(b){return"function"!==typeof a.return?b.g(0):t(b,a.return(),0)})};function X(a){this.j=a}r(X,M);X.as=M.as;X.from=M.from;
X.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l,n,q,p,v,w;return u(e,function(y){switch(y.i){case 1:L(a),c=null,f=!1,g=m(b.j),h=g.next();case 2:if(h.done){y.g(4);break}k=h.value;l=W(k,a)[Symbol.asyncIterator]();c=null;f=!1;case 5:return n={},qa(y,7),t(y,new A(2,l.next()),9);case 9:q=y.h;p=q.done;v=q.value;if(!p){y.g(10);break}return t(y,new A(2,Va(l)),11);case 11:y.g(6);break;case 10:n=v;y.i=8;y.B=0;break;case 7:return c=w=sa(y),f=!0,t(y,new A(2,
Va(l)),12);case 12:y.g(6);break;case 8:return t(y,new A(0,n),5);case 6:if(!f){y.g(4);break}h=g.next();y.g(2);break;case 4:if(f)throw c;y.i=0}})}())};function Wa(a){return null===a||"object"!==typeof a&&"function"!==typeof a}var Xa=new WeakMap;
function Ya(a){var b;return(new Promise(function(d,e){b={resolve:d,reject:e};for(var c={},f=m(a),g=f.next();!g.done;c={o:c.o},g=f.next())g=g.value,Wa(g)?Promise.resolve(g).then(d,e):(c.o=Xa.get(g),void 0===c.o?(c.o={M:new Set([b]),da:!1},Xa.set(g,c.o),Promise.resolve(g).then(function(h){return function(k){for(var l=m(h.o.M),n=l.next();!n.done;n=l.next())n=n.value.resolve,n(k);h.o.M.clear();h.o.da=!0}}(c),function(h){return function(k){for(var l=m(h.o.M),n=l.next();!n.done;n=l.next())n=n.value.reject,
n(k);h.o.M.clear();h.o.da=!0}}(c))):c.o.da?Promise.resolve(g).then(d,e):c.o.M.add(b))})).finally(function(){for(var d=m(a),e=d.next();!e.done;e=d.next())e=e.value,Wa(e)||Xa.get(e).M.delete(b)})};var Za=new Promise(function(){});function $a(a,b){return a.then(function(d){return{value:d,index:b}})}function ab(a){this.J=a}r(ab,M);ab.as=M.as;ab.from=M.from;
ab.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l,n,q,p,v,w,y,S,J,G,qb;return u(e,function(V){if(1==V.i)for(L(a),c=b.J.length,f=Array(c),g=Array(c),h=!1,k=Array(c),l=Array(c),n=c,l.fill(!1),q=0;q<c;q++)p=W(b.J[q],a)[Symbol.asyncIterator](),f[q]=p,g[q]=$a(p.next(),q);if(4!=V.i){if(!(0<n))return V.g(0);v=Ya(g);return t(V,new A(2,v),4)}w=V.h;y=w.value;S=y.value;J=y.done;G=w.index;if(J)return g[G]=Za,n--,V.g(2);k[G]=S;l[G]=!0;qb=f[G];g[G]=$a(qb.next(),
G);return h||(h=l.every(Ma))?t(V,new A(0,k),2):V.g(2)})}())};function bb(a){this.j=a}r(bb,M);bb.as=M.as;bb.from=M.from;bb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l;return u(e,function(n){switch(n.i){case 1:L(a),c=m(b.j),f=c.next();case 2:if(f.done){n.g(0);break}g=f.value;h=z(W(g,a));case 5:return t(n,new A(2,h.next()),8);case 8:k=n.h;if(k.done){n.g(3);break}l=k.value;return t(n,new A(0,l),5);case 3:f=c.next(),n.g(2)}})}())};function cb(a){this.X=a}r(cb,M);cb.as=M.as;cb.from=M.from;cb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h;return u(e,function(k){switch(k.i){case 1:return L(a),t(k,new A(2,b.X(a)),2);case 2:c=k.h,f=z(W(c,a));case 3:return t(k,new A(2,f.next()),6);case 6:if(g=k.h,g.done)k.g(0);else return h=g.value,t(k,new A(0,h),3)}})}())};function db(a){return new cb(a)};function eb(){}r(eb,M);eb.as=M.as;eb.from=M.from;eb.prototype[Symbol.asyncIterator]=function(a){return new B(function d(){return u(d,function(e){L(a);e.i=0})}())};function fb(){return new eb};var gb=new Promise(function(){});function hb(a,b){return a.then(function(d){return{value:d,index:b}})};var ib="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Y(a){this.ga=a}r(Y,M);Y.as=M.as;Y.from=M.from;Y.prototype[Symbol.asyncIterator]=function(){var a=this.ga,b=a.getReader();return jb(a,b,kb(b))};function lb(){Y.apply(this,arguments)}r(lb,Y);lb.as=Y.as;lb.from=Y.from;lb.prototype[Symbol.asyncIterator]=function(){var a=this.ga;try{var b=a.getReader({mode:"byob"})}catch(d){return Y.prototype[Symbol.asyncIterator].call(this)}a=jb(a,b,mb(b));a.next();return a};
function jb(a,b,d){return new B(function c(){var f,g;return u(c,function(h){switch(h.i){case 1:return f=!1,qa(h,2,3),t(h,new A(1,d),3);case 3:ta(h);if(!b){h.g(6);break}if(f){h.g(7);break}return t(h,new A(2,b.cancel()),7);case 7:if(a.locked)try{b.closed.catch(function(){}),b.releaseLock()}catch(k){}case 6:ua(h);break;case 2:g=sa(h);if(f=!0,b)return t(h,new A(2,b.cancel(g)),3);h.g(3)}})}())}
function kb(a){return new B(function d(){var e;return u(d,function(c){return 1==c.i?t(c,new A(2,a.read()),4):(e=c.h).done?c.g(0):t(c,new A(0,e.value),1)})}())}function mb(a){return new B(function d(){var e,c;return u(d,function(f){switch(f.i){case 1:return t(f,new A(0,null),2);case 2:c=f.h;case 3:return t(f,new A(2,nb(a,c)),5);case 5:if((e=f.h).done){f.g(0);break}return t(f,new A(0,e.value),6);case 6:c=f.h,f.g(3)}})}())}
function nb(a,b){var d,e;return x(function(c){if(1==c.i){if("number"===typeof b)e=new ArrayBuffer(d=b);else if(b instanceof ArrayBuffer)d=(e=b).byteLength;else if(b instanceof ib)d=(e=b).byteLength;else return c.return({done:!0,value:void 0});return t(c,ob(a,e,0,d),2)}return c.return(c.h)})}
function ob(a,b,d,e){var c,f,g,h;return x(function(k){switch(k.i){case 1:return c=d,c>=e?k.return({done:!1,value:new Uint8Array(b,0,e)}):t(k,a.read(new Uint8Array(b,c,e-c)),2);case 2:f=k.h;g=f.done;h=f.value;if(!((c+=h.byteLength)<e)||g){k.g(3);break}return t(k,ob(a,h.buffer,c,e),4);case 4:return k.return(k.h);case 3:return k.return({done:g,value:new Uint8Array(h.buffer,0,c)})}})}function pb(a,b){return b&&"byob"===b.mode?new lb(a):new Y(a)};var rb=Array.isArray;function sb(a,b,d){function e(){var f=c.write;var g=d;var h=D.apply(0,arguments);g=rb(h)?g.apply(null,ha(h)):g(h);return f.call(c,g)}H(d)||(d=Ma);var c=new E;a(e);return Ta()(function(){return new B(function g(){var h;return u(g,function(k){switch(k.i){case 1:ra(k),h=void 0;case 4:return t(k,new A(2,c.next()),7);case 7:if((h=k.h).done){k.g(2);break}return t(k,new A(0,h.value),4);case 2:ta(k),b(e),c.end(),ua(k)}})}())}())};function tb(a,b,d,e){this.Y=a;this.N=b;this.Z=d;this.$=e}r(tb,M);tb.as=M.as;tb.from=M.from;tb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g;return u(e,function(h){switch(h.i){case 1:L(a),c=b.Y;case 2:return t(h,new A(2,b.N(c,a)),5);case 5:if(!h.h){h.g(0);break}f=A;g=0;return t(h,new A(2,b.$(c,a)),7);case 7:return t(h,new f(g,h.h),3);case 3:return t(h,new A(2,b.Z(c,a)),8);case 8:c=h.h,h.g(2)}})}())};function ub(a,b){return new Promise(function(d,e){function c(){clearTimeout(f);e(new K)}b&&b.aborted&&e(new K);var f=setTimeout(function(){if(b&&(b.removeEventListener("abort",c),b.aborted)){c();return}d()},a);b&&b.addEventListener("abort",c,{once:!0})})};function vb(a,b,d,e,c){this.Y=a;this.N=b;this.Z=d;this.$=e;this.ra=c}r(vb,M);vb.as=M.as;vb.from=M.from;
vb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h;return u(e,function(k){switch(k.i){case 1:L(a),c=b.Y;case 2:return t(k,new A(2,b.N(c,a)),5);case 5:if(!k.h){k.g(0);break}return t(k,new A(2,b.ra(c,a)),6);case 6:return f=k.h,t(k,new A(2,ub(f,a)),7);case 7:return g=A,h=0,t(k,new A(2,b.$(c,a)),9);case 9:return t(k,new g(h,k.h),3);case 3:return t(k,new A(2,b.Z(c,a)),10);case 10:c=k.h,k.g(2)}})}())};function wb(a,b){return x(function(d){return d.return(a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b))})}function xb(a,b){return x(function(d){return d.return(a>b?1:a<b?-1:0)})};function yb(a){this.pa=a}r(yb,M);yb.as=M.as;yb.from=M.from;yb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c;return u(e,function(f){1==f.i&&(L(a),c=0);return 4!=f.i?t(f,new A(2,ub(b.pa,a)),4):t(f,new A(0,c++),2)})}())};function zb(a,b,d,e){var c,f,g,h,k,l,n,q,p,v;return x(function(w){switch(w.i){case 1:return L(e),c=[],f=W(a,e)[Symbol.asyncIterator](),t(w,f.next(),2);case 2:g=w.h;h=g.value;if(k=g.done)throw Error("Sequence contains no elements");return t(w,b(h,e),3);case 3:l=w.h,c.push(h);case 4:return t(w,f.next(),6);case 6:if((n=w.h).done){w.g(5);break}q=n.value;return t(w,b(q,e),7);case 7:return p=w.h,t(w,d(p,l,e),8);case 8:v=w.h;0===v?c.push(q):0<v&&(c=[q],l=p);w.g(4);break;case 5:return w.return(c)}})};var Ab=new Promise(function(){});function Bb(a,b){return a.then(function(d){return{value:d,index:b}})}function Cb(a){this.j=a}r(Cb,M);Cb.as=M.as;Cb.from=M.from;
Cb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l,n,q,p,v,w,y,S;return u(e,function(J){if(1==J.i)for(L(a),c=b.j.length,f=Array(c),g=Array(c),h=c,k=0;k<c;k++)l=W(b.j[k],a)[Symbol.asyncIterator](),f[k]=l,g[k]=Bb(l.next(),k);if(4!=J.i){if(!(0<h))return J.g(0);n=Ya(g);return t(J,new A(2,n),4)}q=J.h;p=q.value;v=p.done;w=p.value;y=q.index;if(v)return g[y]=Ab,h--,J.g(2);S=f[y];g[y]=Bb(S.next(),y);return t(J,new A(0,w),2)})}())};function Db(){}r(Db,M);Db.as=M.as;Db.from=M.from;Db.prototype[Symbol.asyncIterator]=function(a){return new B(function d(){return u(d,function(e){L(a);return t(e,new A(2,new Promise(function(c,f){a&&a.addEventListener("abort",function(){return f(new K)},{once:!0})})),0)})}())};function Eb(a){this.oa=a}r(Eb,M);Eb.as=M.as;Eb.from=M.from;Eb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g;return u(e,function(h){1==h.i&&(L(a),c=m(b.oa),f=c.next());if(3!=h.i){if(f.done)return h.g(0);g=f.value;return t(h,new A(0,g),3)}f=c.next();return h.g(2)})}())};function Fb(a){this.j=a}r(Fb,M);Fb.as=M.as;Fb.from=M.from;Fb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k;return u(e,function(l){switch(l.i){case 1:L(a),c=m(b.j),f=c.next();case 2:if(f.done){l.g(0);break}g=f.value;h=W(g,a)[Symbol.asyncIterator]();case 5:return k=void 0,qa(l,7),t(l,new A(2,h.next()),9);case 9:k=l.h;l.i=8;l.B=0;break;case 7:sa(l);l.g(3);break;case 8:if(k.done){l.g(3);break}return t(l,new A(0,k.value),5);case 3:f=c.next(),l.g(2)}})}())};function Gb(a,b){return a.then(function(d){return{value:d,index:b}})}function Hb(a){this.J=a}r(Hb,M);Hb.as=M.as;Hb.from=M.from;
Hb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l,n,q,p,v,w,y,S,J;return u(e,function(G){switch(G.i){case 1:L(a);c=b.J;f=c.length;g=Array(f);h=Array(f);for(k=0;k<f;k++)l=W(c[k],a)[Symbol.asyncIterator](),g[k]=l,h[k]=Gb(l.next(),k);n=Ya(h);return t(G,new A(2,n),2);case 2:q=G.h;p=q.value;v=q.index;if(p.done){G.g(3);break}return t(G,new A(0,p.value),3);case 3:for(w=g[v],y=0;y<f;y++)y!==v&&(S=g[y],S.return&&S.return());case 5:return t(G,new A(2,w.next()),
7);case 7:if((J=G.h).done)G.g(0);else return t(G,new A(0,J.value),5)}})}())};function Ib(a,b){this.ea=a;this.G=b}r(Ib,M);Ib.as=M.as;Ib.from=M.from;Ib.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f;return u(e,function(g){1==g.i&&(L(a),c=b.ea,f=b.ea+b.G);if(3!=g.i)return c<f?t(g,new A(0,c),3):g.g(0);c++;return g.g(2)})}())};function Jb(a,b){var d,e,c,f;return x(function(g){switch(g.i){case 1:L(b),d=[],e=z(W(a,b));case 2:return t(g,e.next(),5);case 5:c=g.h;if(c.done){g.g(4);break}f=c.value;d.push(f);g.g(2);break;case 4:return g.return(d)}})};function Kb(a,b){this.ha=a;this.G=b}r(Kb,M);Kb.as=M.as;Kb.from=M.from;Kb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c;return u(e,function(f){switch(f.i){case 1:if(-1===b.G){f.g(8);break}c=0;case 4:if(!(c<b.G)){f.g(0);break}L(a);return t(f,new A(0,b.ha),5);case 5:c++;f.g(4);break;case 8:return L(a),t(f,new A(0,b.ha),8)}})}())};function Lb(a){this.S=a}r(Lb,M);Lb.as=M.as;Lb.from=M.from;Lb.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){return u(e,function(){L(a);throw b.S;})}())};function Mb(a){U.call(this,a,new T(0))}r(Mb,U);Mb.as=U.as;Mb.from=U.from;Mb.prototype[Symbol.asyncIterator]=function(a){L(a);this.W.ya++;return Sa(this,this.W.count)[Symbol.asyncIterator]()};function Nb(){return function(a){return new Mb(a[Symbol.asyncIterator]())}};function Ob(a){this.j=a}Ob.prototype.cancel=function(){var a=this,b;return x(function(d){if(1==d.i)return(b=a.j)&&b.return?t(d,b.return(),2):d.g(2);a.j=null;d.i=0})};function Pb(a){this.j=a}r(Pb,Ob);Pb.prototype.pull=function(a){var b=this,d,e;return x(function(c){if(1==c.i)return(d=b.j)?t(c,d.next(a.desiredSize),3):c.g(2);if(2!=c.i&&(e=c.h,!e.done))return c.return(a.enqueue(e.value));a.close();c.i=0})};
function Qb(a,b){b=void 0===b?{}:b;this.j=a;this.type="bytes";this.autoAllocateChunkSize=b.autoAllocateChunkSize;this.ua=new Pb(a)}r(Qb,Ob);
Qb.prototype.pull=function(a){var b=this,d,e,c,f,g;return x(function(h){switch(h.i){case 1:if(a.byobRequest){h.g(2);break}return t(h,b.ua.pull(a),3);case 3:return h.return(h.h);case 2:if(!b.j){h.g(4);break}d=a.byobRequest;e=d.view;return t(h,b.j.next(e),5);case 5:if(c=h.h,f=c.done,g=c.value,!f){if("number"===typeof g)return h.return(a.byobRequest.respond(g));if(ArrayBuffer.isView(g)){var k=h.return;if(g.buffer===e.buffer)var l=a.byobRequest.respondWithNewView(g);else{l=a.byobRequest;var n=l.respond;
var q=void 0===q?0:q;var p=void 0===p?g.byteLength:p;var v=e.byteLength,w=new Uint8Array(e.buffer,e.byteOffset,v);p=new Uint8Array(g.buffer,g.byteOffset,Math.min(p,v,g.buffer.byteLength-g.byteOffset));w.set(p,q);l=n.call(l,p.byteLength)}return k.call(h,l)}}case 4:a.close(),h.i=0}})};
var Rb=function(){function a(c,f){return c instanceof Qb?new d(c,f):new e(c,f)}function b(c,f){function g(){return ReadableStream.apply(this,arguments)||this}function h(){return ReadableStream.apply(this,arguments)||this}r(h,ReadableStream);h.prototype[Symbol.asyncIterator]=function(){return pb(this)[Symbol.asyncIterator]()};r(g,ReadableStream);g.prototype[Symbol.asyncIterator]=function(){return pb(this,{mode:"byob"})[Symbol.asyncIterator]()};d=g;e=h;b=a;return a(c,f)}var d,e;return function(c,f){return b(c,
f)}}();function Sb(a,b){return b&&"type"in b&&"bytes"===b.type?Rb(new Qb(a[Symbol.asyncIterator](),b),b):Rb(new Pb(a[Symbol.asyncIterator]()),b)}M.prototype.tee=function(){return Tb(this).tee()};M.prototype.pipeTo=function(a,b){return Tb(this).pipeTo(a,b)};M.prototype.pipeThrough=function(a,b){return Tb(this).pipeThrough(a,b)};function Tb(a){return a.na||(a.na=a.pipe(Nb(),Sb))}function Ub(a){return a?Sb(this,a):Sb(this)}M.prototype.toDOMStream=Ub;function Vb(){}function Wb(a,b,d){return a&&"object"===typeof a?{next:H(a.next)?function(e){return a.next(e)}:Vb,error:H(a.error)?function(e){return a.error(e)}:Vb,complete:H(a.complete)?function(){return a.complete()}:Vb}:{next:H(a)?a:Vb,error:H(b)?b:Vb,complete:H(d)?d:Vb}};var Xb="function"===typeof Symbol&&Symbol.observable||"@@observable";function Yb(){this.ca=!1}Yb.prototype.unsubscribe=function(){this.ca=!0};function Zb(a){this.j=a}Zb.prototype[Xb]=function(){return this};Zb.prototype.subscribe=function(a,b,d){function e(){g.next().then(function(h){var k=h.value;h=h.done;f.ca||(h?c.complete():(c.next(k),e()))}).catch(function(h){f.ca||c.error(h)})}var c=Wb(a,b,d),f=new Yb,g=this.j[Symbol.asyncIterator]();e();return f};function $b(a,b){this.N=a;this.j=b}r($b,M);$b.as=M.as;$b.from=M.from;$b.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g;return u(e,function(h){switch(h.i){case 1:L(a);case 2:return t(h,new A(2,b.N(a)),4);case 4:if(!h.h){h.g(0);break}c=z(W(b.j,a));case 5:return t(h,new A(2,c.next()),8);case 8:if(f=h.h,f.done)h.g(2);else return g=f.value,t(h,new A(0,g),5)}})}())};function ac(a){this.J=a}r(ac,M);ac.as=M.as;ac.from=M.from;
ac.prototype[Symbol.asyncIterator]=function(a){var b=this;return new B(function e(){var c,f,g,h,k,l,n;return u(e,function(q){switch(q.i){case 1:L(a),c=b.J.length,f=b.J.map(function(p){return W(p,a)[Symbol.asyncIterator]()});case 2:if(!(0<c)){q.g(0);break}g=Array(c);h=-1;case 4:return++h<c?t(q,new A(2,f[h].next()),7):t(q,new A(0,g),2);case 7:k=q.h;l=k.value;n=k.done;if(!n){q.g(8);break}return t(q,new A(2,Promise.all(f.map(Va))),9);case 9:return q.return(new A(0,void 0));case 8:g[h]=l,q.g(4)}})}())};var bc=M.as,cc=M.from;var Z={};Z.AsyncIterableReadableByteStream=lb;Z.AsyncIterableReadableStream=Y;Z.AsyncIterableX=M;Z.AsyncSink=R;Z.CatchAllAsyncIterable=X;Z.CombineLatestAsyncIterable=ab;Z.ConcatAsyncIterable=bb;Z.FromArrayIterable=Q;Z.FromAsyncIterable=N;Z.FromObservableAsyncIterable=P;Z.FromPromiseIterable=O;Z.MergeAsyncIterable=Cb;Z.NeverAsyncIterable=Db;Z.OfAsyncIterable=Eb;Z.OnErrorResumeNextAsyncIterable=Fb;Z.RaceAsyncIterable=Hb;Z.RepeatValueAsyncIterable=Kb;Z.ZipAsyncIterable=ac;Z._concatAll=function(a){return new bb(a)};
Z.as=bc;Z.asyncify=function(a){return function(){function b(){var c=D.apply(0,arguments);e.write(1===c.length?c[0]:c);e.end()}var d=D.apply(0,arguments),e=new E;try{a.apply(null,ha(d.concat(b)))}catch(c){e.error(c),e.end()}return Ta()(function(){return new B(function f(){var g;return u(f,function(h){1==h.i&&(g=void 0);return 5!=h.i?t(h,new A(2,e.next()),5):(g=h.h).done?h.g(0):t(h,new A(0,g.value),2)})}())}())}};
Z.asyncifyErrback=function(a){return function(){function b(c){var f=D.apply(1,arguments);c?e.error(c):e.write(1===f.length?f[0]:f);e.end()}var d=D.apply(0,arguments),e=new E;try{a.apply(null,ha(d.concat(b)))}catch(c){e.error(c),e.end()}return Ta()(function(){return new B(function f(){var g;return u(f,function(h){1==h.i&&(g=void 0);return 5!=h.i?t(h,new A(2,e.next()),5):(g=h.h).done?h.g(0):t(h,new A(0,g.value),2)})}())}())}};
Z.average=function(a,b){var d,e,c,f,g,h,k,l,n,q,p;return x(function(v){switch(v.i){case 1:d=b||{},e=d.selector,c=void 0===e?F:e,f=d.signal,g=d.thisArg,L(f),k=h=0,l=z(W(a,f));case 2:return t(v,l.next(),5);case 5:n=v.h;if(n.done){v.g(4);break}q=n.value;p=h;return t(v,c.call(g,q,f),6);case 6:h=p+v.h;k++;v.g(2);break;case 4:if(0===k)throw Error("Empty collection");return v.return(h/k)}})};Z.catchAll=function(a){return new X(a)};Z.catchError=function(){return new X(D.apply(0,arguments))};
Z.combineLatest=function(){return new ab(D.apply(0,arguments))};Z.concat=function(){return new bb(D.apply(0,arguments))};Z.count=function(a,b){var d,e,c,f,g,h,k,l,n;return x(function(q){switch(q.i){case 1:d=b||{},e=d.signal,c=d.thisArg,f=d.predicate,g=void 0===f?function(){return x(function(p){return p.return(!0)})}:f,L(e),h=0,k=z(W(a,e));case 2:return t(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}n=l.value;return t(q,g.call(c,n,h,e),6);case 6:q.h&&h++;q.g(2);break;case 4:return q.return(h)}})};
Z.create=function(a){return new Ra(a)};Z.defer=db;Z.elementAt=function(a,b,d){var e,c,f,g;return x(function(h){switch(h.i){case 1:L(d),e=b,c=z(W(a,d));case 2:return t(h,c.next(),5);case 5:f=h.h;if(f.done){h.g(4);break}g=f.value;if(0===e)return h.return(g);e--;h.g(2);break;case 4:return h.return(void 0)}})};Z.empty=fb;
Z.every=function(a,b){var d,e,c,f,g,h,k,l;return x(function(n){switch(n.i){case 1:d=b,e=d.signal,c=d.thisArg,f=d.predicate,L(e),g=0,h=z(W(a,e));case 2:return t(n,h.next(),5);case 5:k=n.h;if(k.done){n.g(4);break}l=k.value;return t(n,f.call(c,l,g++,e),6);case 6:if(!n.h)return n.return(!1);n.g(2);break;case 4:return n.return(!0)}})};
Z.find=function(a,b){var d,e,c,f,g,h,k,l;return x(function(n){switch(n.i){case 1:d=b,e=d.signal,c=d.thisArg,f=d.predicate,L(e),g=0,h=z(W(a,e));case 2:return t(n,h.next(),5);case 5:k=n.h;if(k.done){n.g(4);break}l=k.value;return t(n,f.call(c,l,g++,e),6);case 6:if(n.h)return n.return(l);n.g(2);break;case 4:return n.return(void 0)}})};
Z.findIndex=function(a,b){var d,e,c,f,g,h,k,l;return x(function(n){switch(n.i){case 1:d=b,e=d.signal,c=d.thisArg,f=d.predicate,L(e),g=0,h=z(W(a,e));case 2:return t(n,h.next(),5);case 5:k=n.h;if(k.done){n.g(4);break}l=k.value;return t(n,f.call(c,l,g++,e),6);case 6:if(n.h)return n.return(g);n.g(2);break;case 4:return n.return(-1)}})};
Z.first=function(a,b){var d,e,c,f,g,h,k,l,n;return x(function(q){switch(q.i){case 1:d=b||{},e=d.signal,c=d.thisArg,f=d.predicate,g=void 0===f?function(){return x(function(p){return p.return(!0)})}:f,L(e),h=0,k=z(W(a,e));case 2:return t(q,k.next(),5);case 5:l=q.h;if(l.done){q.g(4);break}n=l.value;return t(q,g.call(c,n,h++,e),6);case 6:if(q.h)return q.return(n);q.g(2);break;case 4:return q.return(void 0)}})};
Z.forkJoin=function(){var a=D.apply(0,arguments),b,d,e,c,f,g,h,k,l,n,q,p,v,w;return x(function(y){switch(y.i){case 1:for(b=a.shift(),b instanceof AbortSignal||(a.unshift(b),b=void 0),d=a.length,e=Array(d),c=Array(d),f=d,g=Array(d),h=Array(d),h.fill(!1),k=0;k<d;k++)l=W(a[k],b)[Symbol.asyncIterator](),e[k]=l,c[k]=hb(l.next(),k);case 2:if(!(0<f)){y.g(3);break}n=Ya(c);return t(y,n,4);case 4:q=y.h;p=q.value;v=q.index;p.done?(c[v]=gb,f--):(w=e[v],c[v]=hb(w.next(),v),h[v]=!0,g[v]=p.value);y.g(2);break;case 3:return 0<
h.length&&h.every(Ma)?y.return(g):y.return(void 0)}})};Z.from=cc;Z.fromDOMStream=pb;
Z.fromEvent=function(a,b,d,e){H(d)&&(e=d,d=void 0);if(a&&H(a.addEventListener)&&H(a.removeEventListener))return sb(function(c){return a.addEventListener(b,c,d)},function(c){return a.removeEventListener(b,c,d)},e);if(a&&H(a.wa)&&H(a.va))return sb(function(c){return a.wa(b,c)},function(c){return a.va(b,c)},e);if(a&&H(a.addListener)&&H(a.removeListener))return sb(function(c){return a.addListener(b,c)},function(c){return a.removeListener(b,c)},e);throw new TypeError("Unsupported event target");};
Z.fromEventPattern=sb;Z.generate=function(a,b,d,e){return new tb(a,b,d,e)};Z.generateTime=function(a,b,d,e,c){return new vb(a,b,d,e,c)};Z.iif=function(a,b,d){d=void 0===d?fb():d;return db(function(e){return x(function(c){return 1==c.i?t(c,a(e),2):c.return(c.h?b:d)})})};
Z.includes=function(a,b,d,e){d=void 0===d?0:d;var c,f,g,h,k;return x(function(l){switch(l.i){case 1:L(e),c=d,f=0,Math.abs(c)&&(c=0),g=z(W(a,e));case 2:return t(l,g.next(),5);case 5:h=l.h;if(h.done){l.g(4);break}k=h.value;if(f++>c&&(k===b||"number"===typeof k&&"number"===typeof b&&isNaN(k)&&isNaN(b)))return l.return(!0);l.g(2);break;case 4:return l.return(!1)}})};Z.interval=function(a){return new yb(a)};
Z.isEmpty=function(a,b){var d,e;return x(function(c){switch(c.i){case 1:L(b),d=z(W(a,b));case 2:return t(c,d.next(),5);case 5:e=c.h;if(e.done){c.g(4);break}return c.return(!1);case 4:return c.return(!0)}})};
Z.last=function(a,b){var d,e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:d=b||{},e=d.signal,c=d.thisArg,f=d.predicate,g=void 0===f?function(){return x(function(v){return v.return(!0)})}:f,L(e),h=0,l=z(W(a,e));case 2:return t(p,l.next(),5);case 5:n=p.h;if(n.done){p.g(4);break}q=n.value;return t(p,g.call(c,q,h++,e),6);case 6:p.h&&(k=q);p.g(2);break;case 4:return p.return(k)}})};
Z.max=function(a,b){var d,e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:return d=b||{},e=d.comparer,c=void 0===e?xb:e,f=d.signal,g=d.selector,h=void 0===g?F:g,L(f),k=W(a,f)[Symbol.asyncIterator](),t(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return t(p,h(l.value),3);case 3:n=p.h;case 4:return t(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return t(p,h(l.value),7);case 7:return q=p.h,t(p,c(q,n),8);case 8:0<p.h&&(n=q);p.g(4);break;case 5:return p.return(n)}})};
Z.maxBy=function(a,b){b=b||{};var d=b.comparer;return zb(a,b.selector,void 0===d?xb:d,b.signal)};Z.merge=function(a){return new Cb([a].concat(ha(D.apply(1,arguments))))};
Z.min=function(a,b){var d,e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:return d=b||{},e=d.comparer,c=void 0===e?xb:e,f=d.signal,g=d.selector,h=void 0===g?F:g,L(f),k=W(a,f)[Symbol.asyncIterator](),t(p,k.next(),2);case 2:l=p.h;if(l.done)throw Error("Sequence contains no elements");return t(p,h(l.value),3);case 3:n=p.h;case 4:return t(p,k.next(),6);case 6:if((l=p.h).done){p.g(5);break}return t(p,h(l.value),7);case 7:return q=p.h,t(p,c(q,n),8);case 8:0>p.h&&(n=q);p.g(4);break;case 5:return p.return(n)}})};
Z.minBy=function(a,b){b=b||{};var d=b.comparer,e=void 0===d?xb:d;return zb(a,b.selector,function(c,f){return x(function(g){return 1==g.i?t(g,e(c,f),2):g.return(-g.h)})},b.signal)};Z.never=function(){return new Db};Z.of=function(){return new Eb(D.apply(0,arguments))};Z.onErrorResumeNext=function(){return new Fb(D.apply(0,arguments))};Z.race=function(){return new Hb(D.apply(0,arguments))};Z.range=function(a,b){return new Ib(a,b)};
Z.reduce=function(a,b){var d,e,c,f,g,h,k,l,n,q,p;return x(function(v){switch(v.i){case 1:d=b,e=d.seed,c=d.signal,f=d.callback,g=b.hasOwnProperty("seed"),L(c),h=0,k=!1,l=e,n=z(W(a,c));case 2:return t(v,n.next(),5);case 5:q=v.h;if(q.done){v.g(4);break}p=q.value;if(!k&&!(k=g)){l=p;k=!0;h++;v.g(2);break}return t(v,f(l,p,h++,c),7);case 7:l=v.h;v.g(2);break;case 4:if(!g&&!k)throw Error("Sequence contains no elements");return v.return(l)}})};
Z.reduceRight=function(a,b){var d,e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:return d=b,e=d.seed,c=d.signal,f=d.callback,g=b.hasOwnProperty("seed"),L(c),t(p,Jb(a,c),2);case 2:h=p.h,k=!1,l=e,n=h.length-1;case 3:if(!(0<=n)){p.g(5);break}q=h[n];if(!k&&!(k=g)){l=q;k=!0;p.g(4);break}return t(p,f(l,q,n,c),7);case 7:l=p.h;case 4:n--;p.g(3);break;case 5:if(!g&&!k)throw Error("Sequence contains no elements");return p.return(l)}})};Z.repeatValue=function(a,b){return new Kb(a,void 0===b?-1:b)};
Z.sequenceEqual=function(a,b,d){var e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:e=d||{},c=e.comparer,f=void 0===c?wb:c,g=e.signal,L(g),h=W(a,g)[Symbol.asyncIterator](),k=W(b,g)[Symbol.asyncIterator]();case 2:return t(p,h.next(),4);case 4:return(l=p.h).done?t(p,k.next(),8):t(p,k.next(),5);case 5:if(!(q=!(n=p.h).done)){p.g(6);break}return t(p,f(l.value,n.value),7);case 7:q=p.h;case 6:if(!q)return p.return(!1);p.g(2);break;case 8:return p.return(!!p.h.done)}})};
Z.single=function(a,b){var d,e,c,f,g,h,k,l,n,q,p,v;return x(function(w){switch(w.i){case 1:d=b||{},e=d.signal,c=d.thisArg,f=d.predicate,g=void 0===f?function(){return x(function(y){return y.return(!0)})}:f,L(e),k=!1,l=0,n=z(W(a,e));case 2:return t(w,n.next(),5);case 5:q=w.h;if(q.done){w.g(4);break}p=q.value;if(!(v=k)){w.g(6);break}return t(w,g.call(c,p,l++,e),7);case 7:v=w.h;case 6:if(v)throw Error("More than one element was found");return t(w,g.call(c,p,l++,e),8);case 8:w.h&&(h=p,k=!0);w.g(2);break;
case 4:return w.return(h)}})};Z.some=function(a,b){var d,e,c,f,g,h,k,l;return x(function(n){switch(n.i){case 1:d=b,e=d.signal,c=d.thisArg,f=d.predicate,L(e),g=0,h=z(W(a,e));case 2:return t(n,h.next(),5);case 5:k=n.h;if(k.done){n.g(4);break}l=k.value;return t(n,f.call(c,l,g++,e),6);case 6:if(n.h)return n.return(!0);n.g(2);break;case 4:return n.return(!1)}})};
Z.sum=function(a,b){var d,e,c,f,g,h,k,l,n,q;return x(function(p){switch(p.i){case 1:d=b||{},e=d.selector,c=void 0===e?F:e,f=d.signal,g=d.thisArg,L(f),h=0,k=z(W(a,f));case 2:return t(p,k.next(),5);case 5:l=p.h;if(l.done){p.g(4);break}n=l.value;q=h;return t(p,c.call(g,n,f),6);case 6:h=q+p.h;p.g(2);break;case 4:return p.return(h)}})};Z.throwError=function(a){return new Lb(a)};Z.toArray=Jb;Z.toDOMStream=Sb;Z.toDOMStreamProto=Ub;
Z.toMap=function(a,b){var d,e,c,f,g,h,k,l,n,q,p,v;return x(function(w){switch(w.i){case 1:d=b||{},e=d.signal,c=d.elementSelector,f=void 0===c?F:c,g=d.keySelector,h=void 0===g?F:g,L(e),k=new Map,l=z(W(a,e));case 2:return t(w,l.next(),5);case 5:n=w.h;if(n.done){w.g(4);break}q=n.value;return t(w,f(q,e),6);case 6:return p=w.h,t(w,h(q,e),7);case 7:v=w.h;k.set(v,p);w.g(2);break;case 4:return w.return(k)}})};Z.toObservable=function(a){return new Zb(a)};
Z.toSet=function(a,b){var d,e,c,f;return x(function(g){switch(g.i){case 1:L(b),d=new Set,e=z(W(a,b));case 2:return t(g,e.next(),5);case 5:c=g.h;if(c.done){g.g(4);break}f=c.value;d.add(f);g.g(2);break;case 4:return g.return(d)}})};Z.whileDo=function(a,b){return new $b(b,a)};Z.zip=function(){return new ac(D.apply(0,arguments))};Ka.prototype[Symbol.toStringTag]="__await";Object.defineProperty(Ka,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"__await"!==a[Symbol.toStringTag])}});Object.assign(arguments[0],Z);}.bind(this))));

//# sourceMappingURL=Ix.dom.asynciterable.es5.min.js.map

(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['IxAsynciterable'], factory) :
    (factory(global.IxAsynciterable = global.IxAsynciterable || {}));
}(this, (function (exports) {function g(a){return this instanceof g?this:new g(a)};class l{constructor(){this.l=!1;this.s=[];this.h=[]}[Symbol.asyncIterator](){return this}write(a){this._push({type:"value",value:a})}error(a){this._push({type:"error",error:a})}_push(a){if(this.l)throw Error("AsyncSink already ended");if(0<this.h.length){const {resolve:b,reject:c}=this.h.shift();"error"===a.type?c(a.error):b({done:!1,value:a.value})}else this.s.push(a)}next(){if(0<this.s.length){const {type:a,value:b,error:c}=this.s.shift();return"error"===a?Promise.reject(c):Promise.resolve({done:!1,
value:b})}return this.l?Promise.resolve({done:!0}):new Promise((a,b)=>{this.h.push({resolve:a,reject:b})})}end(){for(;0<this.h.length;)this.h.shift().resolve({done:!0});this.l=!0}};function aa(a,b){return"undefined"===typeof b?a:function(c,d){return a.call(b,c,d)}};function m(a){return a}async function p(a){return a};const q=a=>"function"===typeof a,t=a=>null!=a&&Object(a)===a;function u(a){return null!=a&&Object(a)===a&&"function"===typeof a.subscribe};const ba=Math.pow(2,53)-1;class w extends Error{constructor(a="The operation has been aborted"){super(a);Object.setPrototypeOf(this,w.prototype);Error.captureStackTrace(this,this.constructor);this.name="AbortError"}get [Symbol.toStringTag](){return"AbortError"}}function x(a){if(a&&a.aborted)throw new w;}Object.defineProperty(w,Symbol.hasInstance,{writable:!0,configurable:!0,value(a){return t(a)&&("AbortError"===a.constructor.name||"AbortError"===a[Symbol.toStringTag])}});class y{async forEach(a,b,c){const d=c?new ca(this,c):this;let e=0;for await(const f of d)await a.call(b,f,e++,c)}pipe(...a){let b=-1;const c=a.length;let d=this;for(;++b<c;)d=a[b](y.as(d));return d}static from(a,b=p,c){b=aa(b,c);if(null!=a&&q(a[Symbol.iterator])||t(a)&&q(a[Symbol.asyncIterator]))return new z(a,b);if(t(a)&&q(a.then))return new A(a,b);if(u(a))return new B(a,b);if(t(a)&&"number"===typeof a.length)return new C(a,b);if(t(a)&&!q(a[Symbol.iterator])&&q(a.next))return new z({[Symbol.asyncIterator]:()=>
a},b);throw new TypeError("Input type not supported");}static as(a){return a instanceof y?a:"string"===typeof a?new C([a],p):null!=a&&q(a[Symbol.iterator])||t(a)&&q(a[Symbol.asyncIterator])?new z(a,p):t(a)&&q(a.then)?new A(a,p):u(a)?new B(a,p):t(a)&&"number"===typeof a.length?new C(a,p):new C([a],p)}}y.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(y,Symbol.hasInstance,{writable:!0,configurable:!0,value(a){return!(!a||"AsyncIterableX"!==a[Symbol.toStringTag])}});
class D{constructor(){this.l=!1;this.s=[];this.h=[]}[Symbol.asyncIterator](){return this}write(a){this._push({type:"value",value:a})}error(a){this._push({type:"error",error:a})}_push(a){if(this.l)throw Error("AsyncSink already ended");if(0<this.h.length){const {resolve:b,reject:c}=this.h.shift();"error"===a.type?c(a.error):b({done:!1,value:a.value})}else this.s.push(a)}next(){if(0<this.s.length){const {type:a,value:b,error:c}=this.s.shift();return"error"===a?Promise.reject(c):Promise.resolve({done:!1,
value:b})}return this.l?Promise.resolve({done:!0}):new Promise((a,b)=>{this.h.push({resolve:a,reject:b})})}end(){for(;0<this.h.length;)this.h.shift().resolve({done:!0});this.l=!0}}class C extends y{constructor(a,b){super();this.g=a;this.m=b}async*[Symbol.asyncIterator](){let a=0;var b=Number(this.g.length);for(b=Math.min(Math.max(isNaN(b)?0:0!==b&&isFinite(b)?(0<b?1:-1)*Math.floor(Math.abs(b)):b,0),ba);a<b;)yield await this.m(this.g[a],a++)}}
class z extends y{constructor(a,b){super();this.g=a;this.m=b}async*[Symbol.asyncIterator](){let a=0;for await(const b of this.g)yield await this.m(b,a++)}}class A extends y{constructor(a,b){super();this.g=a;this.m=b}async*[Symbol.asyncIterator](){const a=await this.g;yield await this.m(a,0)}}
class B extends y{constructor(a,b){super();this.V=a;this.m=b}async*[Symbol.asyncIterator](a){function b(){c.error(new w)}x(a);const c=new D,d=this.V.subscribe({next(f){c.write(f)},error(f){c.error(f)},complete(){c.end()}});a&&a.addEventListener("abort",b);let e=0;try{for(let f;!(f=await c.next()).done;)x(a),yield await this.m(f.value,e++)}finally{a&&a.removeEventListener("abort",b),d.unsubscribe()}}}
class ca{constructor(a,b){this.g=a;this.J=b}[Symbol.asyncIterator](){return this.g[Symbol.asyncIterator](this.J)}}
try{(a=>{if(!a){y.prototype.pipe=function(...c){let d=-1;const e=c.length;let f=this,h;for(;++d<e;)if(h=c[d],"function"===typeof h)f=h(y.as(f));else if(t(h)&&q(h.end)&&q(h._write)&&"boolean"===typeof h.writable&&t(h._writableState))return{end:c=!0}=c[d+1]||{},t(f)&&q(f.pipe)&&q(f._read)&&"boolean"===typeof f.readable&&t(f._readableState)?f.pipe(h,{end:c}):y.as(f).ba(b(h)).pipe(h,{end:c});return f};var b=(c,d=c.$||{aa:!0})=>d}})("object"===typeof window&&"object"===typeof document&&9===document.nodeType)}catch(a){};class da{constructor(){this.i=[]}clear(){this.i=[]}get count(){return this.i.length}get(a){return this.i[a]}push(a){this.i.push(a)}done(){}}
class ea{constructor(){this.B=this.j=0;this.i=new Map}clear(){this.i.clear()}get count(){return this.j}get R(){return this.B}set R(a){this.B=a}done(){this.B--}get(a){if(!this.i.has(a))throw Error("Element no longer available in the buffer.");const b=this.i.get(a),c=b.value;0===--b.count&&this.i.delete(a);return c}push(a){this.i.set(this.j++,{value:a,count:this.B})}};class fa extends y{constructor(a){super();this.F=a}async*[Symbol.asyncIterator](a){x(a);a=await this.F(a);let b;for(;!(b=await a.next()).done;)yield b.value}};async function*E(a,b=0){--b;let c=!1;const d=a.D;try{do if(++b<d.count)yield d.get(b);else{if(a.N)throw a.A;null===a.C&&(a.C=a.g.next().then(e=>{a.C=null;e.done||d.push(e.value);return e}));({done:c}=await a.C.catch(e=>{a.A=e;a.N=!0;throw e;}));c||(yield d.get(b))}while(!c)}finally{d.done()}}class F extends y{constructor(a,b){super();this.C=this.A=null;this.N=!1;this.g=a;this.D=b}[Symbol.asyncIterator](a){x(a);return E(this,0)}}
function G(){return function(a){return new F(a[Symbol.asyncIterator](),new da)}};class ha extends y{constructor(a,b){super();this.g=a;this.J=b}[Symbol.asyncIterator](){return this.g[Symbol.asyncIterator](this.J)}}function H(a,b){return b?new ha(a,b):a};async function I(a){"function"===typeof a.return&&await a.return()};class J extends y{constructor(a){super();this.g=a}async*[Symbol.asyncIterator](a){x(a);let b=null,c=!1;for(const d of this.g){const e=H(d,a)[Symbol.asyncIterator]();b=null;for(c=!1;;){let f={};try{const {done:h,value:k}=await e.next();if(h){await I(e);break}f=k}catch(h){b=h;c=!0;await I(e);break}yield f}if(!c)break}if(c)throw b;}};function K(a){return null===a||"object"!==typeof a&&"function"!==typeof a}const L=new WeakMap;
function M(a){let b;return(new Promise((c,d)=>{b={resolve:c,reject:d};for(const e of a){if(K(e)){Promise.resolve(e).then(c,d);continue}let f=L.get(e);void 0===f?(f={u:new Set([b]),L:!1},L.set(e,f),Promise.resolve(e).then(h=>{for(const {resolve:k}of f.u)k(h);f.u.clear();f.L=!0},h=>{for(const {reject:k}of f.u)k(h);f.u.clear();f.L=!0})):f.L?Promise.resolve(e).then(c,d):f.u.add(b)}})).finally(()=>{for(const c of a)K(c)||L.get(c).u.delete(b)})};const ia=new Promise(()=>{});function N(a,b){return a.then(c=>({value:c,index:b}))}
class O extends y{constructor(a){super();this.o=a}async*[Symbol.asyncIterator](a){x(a);const b=this.o.length,c=Array(b),d=Array(b);let e=!1;const f=Array(b),h=Array(b);let k=b;h.fill(!1);for(let n=0;n<b;n++){const r=H(this.o[n],a)[Symbol.asyncIterator]();c[n]=r;d[n]=N(r.next(),n)}for(;0<k;){a=M(d);const {value:{value:n,done:r},index:v}=await a;if(r)d[v]=ia,k--;else if(f[v]=n,h[v]=!0,d[v]=N(c[v].next(),v),e||=h.every(m))yield f}}};class P extends y{constructor(a){super();this.g=a}async*[Symbol.asyncIterator](a){x(a);for(const b of this.g)for await(const c of H(b,a))yield c}};class ja extends y{constructor(a){super();this.F=a}async*[Symbol.asyncIterator](a){x(a);const b=await this.F(a);for await(const c of H(b,a))yield c}}function Q(a){return new ja(a)};class ka extends y{async*[Symbol.asyncIterator](a){x(a)}}function R(){return new ka};const la=new Promise(()=>{});function ma(a,b){return a.then(c=>({value:c,index:b}))};const na="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;class S extends y{constructor(a){super();this.O=a}[Symbol.asyncIterator](){const a=this.O,b=a.getReader();return oa(a,b,pa(b))}}class qa extends S{[Symbol.asyncIterator](){var a=this.O;let b;try{b=a.getReader({mode:"byob"})}catch(c){return super[Symbol.asyncIterator]()}a=oa(a,b,ra(b));a.next();return a}}
async function*oa(a,b,c){let d=!1;try{yield*c}catch(e){(d=!0,b)&&await b.cancel(e)}finally{if(b&&(d||await b.cancel(),a.locked))try{b.closed.catch(()=>{}),b.releaseLock()}catch(e){}}}async function*pa(a){let b;for(;!(b=await a.read()).done;)yield b.value}async function*ra(a){var b;for(b=yield null;!(b=await sa(a,b)).done;)b=yield b.value}
async function sa(a,b){let c;if("number"===typeof b)c=new ArrayBuffer(b);else if(b instanceof ArrayBuffer)b=(c=b).byteLength;else if(b instanceof na)b=(c=b).byteLength;else return{done:!0,value:void 0};return await ta(a,c,0,b)}async function ta(a,b,c,d){if(c>=d)return{done:!1,value:new Uint8Array(b,0,d)};const {done:e,value:f}=await a.read(new Uint8Array(b,c,d-c));return(c+=f.byteLength)<d&&!e?await ta(a,f.buffer,c,d):{done:e,value:new Uint8Array(f.buffer,0,c)}}
function T(a,b){return b&&"byob"===b.mode?new qa(a):new S(a)};const ua=Array.isArray;function U(a,b,c){q(c)||(c=m);const d=new l,e=(...f)=>{var h=d.write,k=c;f=ua(f)?k(...f):k(f);return h.call(d,f)};a(e);return G()(async function*(){try{for(let f;!(f=await d.next()).done;)yield f.value}finally{b(e),d.end()}}())};class va extends y{constructor(a,b,c,d){super();this.G=a;this.v=b;this.H=c;this.I=d}async*[Symbol.asyncIterator](a){x(a);for(let b=this.G;await this.v(b,a);b=await this.H(b,a))yield await this.I(b,a)}};function wa(a,b){return new Promise((c,d)=>{function e(){clearTimeout(f);d(new w)}b&&b.aborted&&d(new w);const f=setTimeout(()=>{if(b&&(b.removeEventListener("abort",e),b.aborted)){e();return}c()},a);b&&b.addEventListener("abort",e,{once:!0})})};class xa extends y{constructor(a,b,c,d,e){super();this.G=a;this.v=b;this.H=c;this.I=d;this.W=e}async*[Symbol.asyncIterator](a){x(a);for(let b=this.G;await this.v(b,a);b=await this.H(b,a)){const c=await this.W(b,a);await wa(c,a);yield await this.I(b,a)}}};async function ya(a,b){return a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b)}async function V(a,b){return a>b?1:a<b?-1:0};class za extends y{constructor(a){super();this.U=a}async*[Symbol.asyncIterator](a){x(a);let b=0;for(;;)await wa(this.U,a),yield b++}};async function Aa(a,b,c,d){x(d);let e=[];a=H(a,d)[Symbol.asyncIterator]();const {value:f,done:h}=await a.next();if(h)throw Error("Sequence contains no elements");let k=await b(f,d);e.push(f);for(var n;!(n=await a.next()).done;){n=n.value;const r=await b(n,d),v=await c(r,k,d);0===v?e.push(n):0<v&&(e=[n],k=r)}return e};const Ba=new Promise(()=>{});function Ca(a,b){return a.then(c=>({value:c,index:b}))}class Da extends y{constructor(a){super();this.g=a}async*[Symbol.asyncIterator](a){x(a);const b=this.g.length,c=Array(b),d=Array(b);let e=b;for(let f=0;f<b;f++){const h=H(this.g[f],a)[Symbol.asyncIterator]();c[f]=h;d[f]=Ca(h.next(),f)}for(;0<e;){a=M(d);const {value:{done:f,value:h},index:k}=await a;f?(d[k]=Ba,e--):(d[k]=Ca(c[k].next(),k),yield h)}}};class Ea extends y{constructor(){super()}async*[Symbol.asyncIterator](a){x(a);await new Promise((b,c)=>{a&&a.addEventListener("abort",()=>c(new w),{once:!0})})}};class Fa extends y{constructor(a){super();this.T=a}async*[Symbol.asyncIterator](a){x(a);for(const b of this.T)yield b}};class Ga extends y{constructor(a){super();this.g=a}async*[Symbol.asyncIterator](a){x(a);for(const b of this.g){const c=H(b,a)[Symbol.asyncIterator]();for(;;){let d;try{d=await c.next()}catch(e){break}if(d.done)break;yield d.value}}}};function Ha(a,b){return a.then(c=>({value:c,index:b}))}class Ia extends y{constructor(a){super();this.o=a}async*[Symbol.asyncIterator](a){x(a);var b=this.o,c=b.length;const d=Array(c);var e=Array(c);for(let k=0;k<c;k++){const n=H(b[k],a)[Symbol.asyncIterator]();d[k]=n;e[k]=Ha(n.next(),k)}a=M(e);const {value:f,index:h}=await a;f.done||(yield f.value);a=d[h];for(b=0;b<c;b++)b!==h&&(e=d[b],e.return&&e.return());for(;!(c=await a.next()).done;)yield c.value}};class Ja extends y{constructor(a,b){super();this.M=a;this.j=b}async*[Symbol.asyncIterator](a){x(a);for(let b=this.M,c=this.M+this.j;b<c;b++)yield b}};async function Ka(a,b){x(b);const c=[];for await(const d of H(a,b))c.push(d);return c};class La extends y{constructor(a,b){super();this.P=a;this.j=b}async*[Symbol.asyncIterator](a){if(-1===this.j)for(;;)x(a),yield this.P;else for(let b=0;b<this.j;b++)x(a),yield this.P}};class Ma extends y{constructor(a){super();this.A=a}async*[Symbol.asyncIterator](a){x(a);throw this.A;}};class Na extends F{constructor(a){super(a,new ea)}[Symbol.asyncIterator](a){x(a);this.D.R++;return E(this,this.D.count)[Symbol.asyncIterator]()}}function Oa(){return function(a){return new Na(a[Symbol.asyncIterator]())}};function Pa(a,b,c=0,d=b.byteLength){const e=a.byteLength;a=new Uint8Array(a.buffer,a.byteOffset,e);b=new Uint8Array(b.buffer,b.byteOffset,Math.min(d,e,b.buffer.byteLength-b.byteOffset));a.set(b,c);return b.byteLength}class Qa{constructor(a){this.g=a}async cancel(){const a=this.g;a&&a.return&&await a.return();this.g=null}}class Ra extends Qa{async pull(a){var b=this.g;if(b&&(b=await b.next(a.desiredSize),!b.done))return a.enqueue(b.value);a.close()}}
class Sa extends Qa{constructor(a,b={}){super(a);this.type="bytes";this.autoAllocateChunkSize=b.autoAllocateChunkSize;this.X=new Ra(a)}async pull(a){if(!a.byobRequest)return await this.X.pull(a);if(this.g){const b=a.byobRequest.view,{done:c,value:d}=await this.g.next(b);if(!c){if("number"===typeof d)return a.byobRequest.respond(d);if(ArrayBuffer.isView(d))return d.buffer===b.buffer?a.byobRequest.respondWithNewView(d):a.byobRequest.respond(Pa(b,d))}}a.close()}}
const Ta=(()=>{let a,b,c=(e,f)=>{class h extends ReadableStream{[Symbol.asyncIterator](){return T(this)[Symbol.asyncIterator]()}}class k extends ReadableStream{[Symbol.asyncIterator](){return T(this,{mode:"byob"})[Symbol.asyncIterator]()}}a=k;b=h;c=d;return d(e,f)};const d=(e,f)=>e instanceof Sa?new a(e,f):new b(e,f);return(e,f)=>c(e,f)})();function W(a,b){return b&&"type"in b&&"bytes"===b.type?Ta(new Sa(a[Symbol.asyncIterator](),b),b):Ta(new Ra(a[Symbol.asyncIterator]()),b)}y.prototype.tee=function(){return X(this).tee()};
y.prototype.pipeTo=function(a,b){return X(this).pipeTo(a,b)};y.prototype.pipeThrough=function(a,b){return X(this).pipeThrough(a,b)};function X(a){return a.S||(a.S=a.pipe(Oa(),W))}function Ua(a){return a?W(this,a):W(this)}y.prototype.toDOMStream=Ua;const Y=()=>{};function Va(a,b,c){return a&&"object"===typeof a?{next:q(a.next)?d=>a.next(d):Y,error:q(a.error)?d=>a.error(d):Y,complete:q(a.complete)?()=>a.complete():Y}:{next:q(a)?a:Y,error:q(b)?b:Y,complete:q(c)?c:Y}};class Wa{constructor(){this.K=!1}unsubscribe(){this.K=!0}}class Xa{constructor(a){this.g=a}["function"===typeof Symbol&&Symbol.observable||"@@observable"](){return this}subscribe(a,b,c){const d=Va(a,b,c),e=new Wa,f=this.g[Symbol.asyncIterator](),h=()=>{f.next().then(({value:k,done:n})=>{e.K||(n?d.complete():(d.next(k),h()))}).catch(k=>{e.K||d.error(k)})};h();return e}};class Ya extends y{constructor(a,b){super();this.v=a;this.g=b}async*[Symbol.asyncIterator](a){for(x(a);await this.v(a);)for await(const b of H(this.g,a))yield b}};class Za extends y{constructor(a){super();this.o=a}async*[Symbol.asyncIterator](a){x(a);const b=this.o.length,c=this.o.map(d=>H(d,a)[Symbol.asyncIterator]());for(;0<b;){const d=Array(b);for(let e=-1;++e<b;){const {value:f,done:h}=await c[e].next();if(h){await Promise.all(c.map(I));return}d[e]=f}yield d}}};const $a=y.as,ab=y.from;var Z={};Z.AsyncIterableReadableByteStream=qa;Z.AsyncIterableReadableStream=S;Z.AsyncIterableX=y;Z.AsyncSink=D;Z.CatchAllAsyncIterable=J;Z.CombineLatestAsyncIterable=O;Z.ConcatAsyncIterable=P;Z.FromArrayIterable=C;Z.FromAsyncIterable=z;Z.FromObservableAsyncIterable=B;Z.FromPromiseIterable=A;Z.MergeAsyncIterable=Da;Z.NeverAsyncIterable=Ea;Z.OfAsyncIterable=Fa;Z.OnErrorResumeNextAsyncIterable=Ga;Z.RaceAsyncIterable=Ia;Z.RepeatValueAsyncIterable=La;Z.ZipAsyncIterable=Za;Z._concatAll=function(a){return new P(a)};
Z.as=$a;Z.asyncify=function(a){return function(...b){function c(...e){d.write(1===e.length?e[0]:e);d.end()}const d=new l;try{a(...b.concat(c))}catch(e){d.error(e),d.end()}return G()(async function*(){for(let e;!(e=await d.next()).done;)yield e.value}())}};Z.asyncifyErrback=function(a){return function(...b){function c(e,...f){e?d.error(e):d.write(1===f.length?f[0]:f);d.end()}const d=new l;try{a(...b.concat(c))}catch(e){d.error(e),d.end()}return G()(async function*(){for(let e;!(e=await d.next()).done;)yield e.value}())}};
Z.average=async function(a,b){const {selector:c=p,signal:d,thisArg:e}=b||{};x(d);let f=b=0;for await(const h of H(a,d))b+=await c.call(e,h,d),f++;if(0===f)throw Error("Empty collection");return b/f};Z.catchAll=function(a){return new J(a)};Z.catchError=function(...a){return new J(a)};Z.combineLatest=function(...a){return new O(a)};Z.concat=function(...a){return new P(a)};
Z.count=async function(a,b){const {signal:c,thisArg:d,predicate:e=async()=>!0}=b||{};x(c);b=0;for await(const f of H(a,c))await e.call(d,f,b,c)&&b++;return b};Z.create=function(a){return new fa(a)};Z.defer=Q;Z.elementAt=async function(a,b,c){x(c);for await(const d of H(a,c)){if(0===b)return d;b--}};Z.empty=R;Z.every=async function(a,b){const {signal:c,thisArg:d,predicate:e}=b;x(c);b=0;for await(const f of H(a,c))if(!await e.call(d,f,b++,c))return!1;return!0};
Z.find=async function(a,b){const {signal:c,thisArg:d,predicate:e}=b;x(c);b=0;for await(const f of H(a,c))if(await e.call(d,f,b++,c))return f};Z.findIndex=async function(a,b){const {signal:c,thisArg:d,predicate:e}=b;x(c);b=0;for await(const f of H(a,c))if(await e.call(d,f,b++,c))return b;return-1};Z.first=async function(a,b){const {signal:c,thisArg:d,predicate:e=async()=>!0}=b||{};x(c);b=0;for await(const f of H(a,c))if(await e.call(d,f,b++,c))return f};
Z.forkJoin=async function(...a){let b=a.shift();b instanceof AbortSignal||(a.unshift(b),b=void 0);const c=a.length,d=Array(c),e=Array(c);let f=c;const h=Array(c),k=Array(c);k.fill(!1);for(let n=0;n<c;n++){const r=H(a[n],b)[Symbol.asyncIterator]();d[n]=r;e[n]=ma(r.next(),n)}for(;0<f;){a=M(e);const {value:n,index:r}=await a;n.done?(e[r]=la,f--):(e[r]=ma(d[r].next(),r),k[r]=!0,h[r]=n.value)}if(0<k.length&&k.every(m))return h};Z.from=ab;Z.fromDOMStream=T;
Z.fromEvent=function(a,b,c,d){q(c)&&(d=c,c=void 0);if(a&&q(a.addEventListener)&&q(a.removeEventListener))return U(e=>a.addEventListener(b,e,c),e=>a.removeEventListener(b,e,c),d);if(a&&q(a.Z)&&q(a.Y))return U(e=>a.Z(b,e),e=>a.Y(b,e),d);if(a&&q(a.addListener)&&q(a.removeListener))return U(e=>a.addListener(b,e),e=>a.removeListener(b,e),d);throw new TypeError("Unsupported event target");};Z.fromEventPattern=U;Z.generate=function(a,b,c,d){return new va(a,b,c,d)};
Z.generateTime=function(a,b,c,d,e){return new xa(a,b,c,d,e)};Z.iif=function(a,b,c=R()){return Q(async d=>await a(d)?b:c)};Z.includes=async function(a,b,c=0,d){x(d);let e=0;Math.abs(c)&&(c=0);for await(const f of H(a,d))if(e++>c&&(f===b||"number"===typeof f&&"number"===typeof b&&isNaN(f)&&isNaN(b)))return!0;return!1};Z.interval=function(a){return new za(a)};Z.isEmpty=async function(a,b){x(b);for await(const c of H(a,b))return!1;return!0};
Z.last=async function(a,b){const {signal:c,thisArg:d,predicate:e=async()=>!0}=b||{};x(c);b=0;let f;for await(const h of H(a,c))await e.call(d,h,b++,c)&&(f=h);return f};Z.max=async function(a,b){const {comparer:c=V,signal:d,selector:e=p}=b||{};x(d);a=H(a,d)[Symbol.asyncIterator]();var f=await a.next();if(f.done)throw Error("Sequence contains no elements");for(b=await e(f.value);!(f=await a.next()).done;)f=await e(f.value),0<await c(f,b)&&(b=f);return b};
Z.maxBy=function(a,b){const {comparer:c=V,selector:d,signal:e}=b||{};return Aa(a,d,c,e)};Z.merge=function(a,...b){return new Da([a,...b])};Z.min=async function(a,b){const {comparer:c=V,signal:d,selector:e=p}=b||{};x(d);a=H(a,d)[Symbol.asyncIterator]();var f=await a.next();if(f.done)throw Error("Sequence contains no elements");for(b=await e(f.value);!(f=await a.next()).done;)f=await e(f.value),0>await c(f,b)&&(b=f);return b};
Z.minBy=function(a,b){const {comparer:c=V,selector:d,signal:e}=b||{};return Aa(a,d,async(f,h)=>-await c(f,h),e)};Z.never=function(){return new Ea};Z.of=function(...a){return new Fa(a)};Z.onErrorResumeNext=function(...a){return new Ga(a)};Z.race=function(...a){return new Ia(a)};Z.range=function(a,b){return new Ja(a,b)};
Z.reduce=async function(a,b){const {seed:c,signal:d,callback:e}=b;b=b.hasOwnProperty("seed");x(d);let f=0,h=!1,k=c;for await(const n of H(a,d))(h||=b)?k=await e(k,n,f++,d):(k=n,h=!0,f++);if(!b&&!h)throw Error("Sequence contains no elements");return k};
Z.reduceRight=async function(a,b){const {seed:c,signal:d,callback:e}=b;b=b.hasOwnProperty("seed");x(d);a=await Ka(a,d);let f=!1,h=c;for(let k=a.length-1;0<=k;k--){const n=a[k];(f||=b)?h=await e(h,n,k,d):(h=n,f=!0)}if(!b&&!f)throw Error("Sequence contains no elements");return h};Z.repeatValue=function(a,b=-1){return new La(a,b)};
Z.sequenceEqual=async function(a,b,c){const {comparer:d=ya,signal:e}=c||{};x(e);a=H(a,e)[Symbol.asyncIterator]();b=H(b,e)[Symbol.asyncIterator]();let f;for(;!(c=await a.next()).done;)if((f=await b.next()).done||!await d(c.value,f.value))return!1;return!!(await b.next()).done};
Z.single=async function(a,b){const {signal:c,thisArg:d,predicate:e=async()=>!0}=b||{};x(c);let f;b=!1;let h=0;for await(const k of H(a,c)){if(b&&await e.call(d,k,h++,c))throw Error("More than one element was found");await e.call(d,k,h++,c)&&(f=k,b=!0)}return f};Z.some=async function(a,b){const {signal:c,thisArg:d,predicate:e}=b;x(c);b=0;for await(const f of H(a,c))if(await e.call(d,f,b++,c))return!0;return!1};
Z.sum=async function(a,b){const {selector:c=p,signal:d,thisArg:e}=b||{};x(d);b=0;for await(const f of H(a,d))b+=await c.call(e,f,d);return b};Z.throwError=function(a){return new Ma(a)};Z.toArray=Ka;Z.toDOMStream=W;Z.toDOMStreamProto=Ua;Z.toMap=async function(a,b){const {signal:c,elementSelector:d=p,keySelector:e=p}=b||{};x(c);b=new Map;for await(const f of H(a,c)){a=await d(f,c);const h=await e(f,c);b.set(h,a)}return b};Z.toObservable=function(a){return new Xa(a)};
Z.toSet=async function(a,b){x(b);const c=new Set;for await(const d of H(a,b))c.add(d);return c};Z.whileDo=function(a,b){return new Ya(b,a)};Z.zip=function(...a){return new Za(a)};g.prototype[Symbol.toStringTag]="__await";Object.defineProperty(g,Symbol.hasInstance,{writable:!0,configurable:!0,value(a){return!(!a||"__await"!==a[Symbol.toStringTag])}});Object.assign(arguments[0],Z);}.bind(this))));

//# sourceMappingURL=Ix.dom.asynciterable.esnext.min.js.map

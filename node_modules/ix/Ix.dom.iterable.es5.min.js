(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' && define.amd ? define(['IxIterable'], factory) :
    (factory(global.IxIterable = global.IxIterable || {}));
}(this, (function (exports) {function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
ea("Symbol",function(a){function b(f){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(f||"")+"_"+e++,f)}function c(f,g){this.ga=f;ba(this,"description",{configurable:!0,writable:!0,value:g})}if(a)return a;c.prototype.toString=function(){return this.ga};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
ea("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=da[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(aa(this))}})}return a});ea("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")});
function fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}function k(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ha="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ia;
if("function"==typeof Object.setPrototypeOf)ia=Object.setPrototypeOf;else{var ja;a:{var ka={a:!0},la={};try{la.__proto__=ka;ja=la.a;break a}catch(a){}ja=!1}ia=ja?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ma=ia;
function n(a,b){a.prototype=ha(b.prototype);a.prototype.constructor=a;if(ma)ma(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ua=b.prototype}function na(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");}function p(){this.M=!1;this.v=null;this.l=void 0;this.h=1;this.A=this.J=0;this.ca=this.s=null}
function oa(a){if(a.M)throw new TypeError("Generator is already running");a.M=!0}p.prototype.N=function(a){this.l=a};p.prototype.O=function(a){this.s={ba:a,ea:!0};this.h=this.J||this.A};p.prototype.return=function(a){this.s={return:a};this.h=this.A};function q(a,b,c){a.h=c;return{value:b}}function pa(a,b,c){b=k(b);var d=b.next();na(d);if(d.done)a.l=d.value,a.h=c;else return a.v=b,q(a,d.value,c)}p.prototype.g=function(a){this.h=a};function qa(a){a.J=2;a.A=3}function ra(a){a.J=0;a.A=2}
function sa(a){a.J=0;var b=a.s.ba;a.s=null;return b}function ta(a){a.ca=[a.s];a.J=0;a.A=0}function va(a){var b=a.ca.splice(0)[0];(b=a.s=a.s||b)?b.ea?a.h=a.J||a.A:void 0!=b.g&&a.A<b.g?(a.h=b.g,a.s=null):a.h=a.A:a.h=0}function wa(a){this.j=new p;this.sa=a}wa.prototype.N=function(a){oa(this.j);if(this.j.v)return xa(this,this.j.v.next,a,this.j.N);this.j.N(a);return r(this)};
function ya(a,b){oa(a.j);var c=a.j.v;if(c)return xa(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.j.return);a.j.return(b);return r(a)}wa.prototype.O=function(a){oa(this.j);if(this.j.v)return xa(this,this.j.v["throw"],a,this.j.N);this.j.O(a);return r(this)};function xa(a,b,c,d){try{var e=b.call(a.j.v,c);na(e);if(!e.done)return a.j.M=!1,e;var f=e.value}catch(g){return a.j.v=null,a.j.O(g),r(a)}a.j.v=null;d.call(a.j,f);return r(a)}
function r(a){for(;a.j.h;)try{var b=a.sa(a.j);if(b)return a.j.M=!1,{value:b.value,done:!1}}catch(c){a.j.l=void 0,a.j.O(c)}a.j.M=!1;if(a.j.s){b=a.j.s;a.j.s=null;if(b.ea)throw b.ba;return{value:b.return,done:!0}}return{value:void 0,done:!0}}function za(a){this.next=function(b){return a.N(b)};this.throw=function(b){return a.O(b)};this.return=function(b){return ya(a,b)};this[Symbol.iterator]=function(){return this}}function t(a,b){b=new za(new wa(b));ma&&a.prototype&&ma(b,a.prototype);return b}
function Aa(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})}function u(a){return Aa(new za(new wa(a)))}function Ba(a){var b=a[Symbol.asyncIterator];return void 0!==b?b.call(a):new Ca(k(a))}
function Ca(a){this[Symbol.asyncIterator]=function(){return this};this[Symbol.iterator]=function(){return a};this.next=function(b){return Promise.resolve(a.next(b))};void 0!==a["throw"]&&(this["throw"]=function(b){return Promise.resolve(a["throw"](b))});void 0!==a["return"]&&(this["return"]=function(b){return Promise.resolve(a["return"](b))})}function v(a,b){this.action=a;this.value=b}function Da(a,b,c,d){this.method=a;this.G=b;this.resolve=c;this.reject=d}
function Ea(a){this.frame=a;this.next=null}function Fa(){this.T=this.B=null}Fa.prototype.isEmpty=function(){return null===this.B};Fa.prototype.first=function(){if(this.B)return this.B.frame;throw Error("no frames in executionQueue");};function y(a){a.B&&(a.B=a.B.next,a.B||(a.T=null))}Fa.prototype.enqueue=function(a){a=new Ea(a);this.T?this.T.next=a:this.B=a;this.T=a};
function z(a){this.da=a;this.o=null;this.m=new Fa;this[Symbol.asyncIterator]=function(){return this};var b=this;this.pa=function(c){var d=b.m.first();!0===c.done?(b.o=null,d.method="next",d.G=c.value):(d.resolve({value:c.value,done:!1}),y(b.m));A(b)};this.oa=function(c){Ga(b,c)};this.Y=function(c){Ha(b,c)}}function Ia(a,b,c){return new Promise(function(d,e){var f=a.m.isEmpty();a.m.enqueue(new Da(b,c,d,e));f&&A(a)})}z.prototype.next=function(a){return Ia(this,"next",a)};
z.prototype.return=function(a){return Ia(this,"return",new v(0,a))};z.prototype.throw=function(a){return Ia(this,"throw",a)};function A(a){if(!a.m.isEmpty())try{if(a.o){if(!a.o)throw Error("no delegate to perform execution");var b=a.m.first();if(b.method in a.o)try{a.o[b.method](b.G).then(a.pa,a.oa).catch(a.Y)}catch(c){Ga(a,c)}else a.o=null,A(a)}else Ja(a)}catch(c){Ha(a,c)}}
function Ja(a){var b=a.m.first();try{var c=a.da[b.method](b.G);if(c.value instanceof v)switch(c.value.action){case 0:Promise.resolve(c.value.value).then(function(d){b.resolve({value:d,done:c.done});y(a.m);A(a)},function(d){b.reject(d);y(a.m);A(a)}).catch(a.Y);break;case 1:a.o=Ba(c.value.value);b.method="next";b.G=void 0;A(a);break;case 2:Promise.resolve(c.value.value).then(function(d){b.method="next";b.G=d;A(a)},function(d){b.method="throw";b.G=d;A(a)}).catch(a.Y);break;default:throw Error("Unrecognized AsyncGeneratorWrapper$ActionEnum");
}else b.resolve(c),y(a.m),A(a)}catch(d){b.reject(d),y(a.m),A(a)}}function Ga(a,b){var c=a.m.first();a.o=null;c.method="throw";c.G=b;A(a)}function Ha(a,b){a.m.isEmpty()||(a.m.first().reject(b),y(a.m));a.o&&"return"in a.o&&(a.o["return"](void 0),a.o=null);a.da["return"](void 0);A(a)}function B(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}function Ka(a){return this instanceof Ka?this:new Ka(a)};function C(a){return a}function D(a){return u(function(b){return b.return(a)})};function La(a,b){return"undefined"===typeof b?a:function(c,d){return a.call(b,c,d)}};function E(a){return"function"===typeof a}function F(a){return null!=a&&Object(a)===a}function Ma(a){return F(a)&&"number"===typeof a.length}function Na(a){return null!=a&&E(a[Symbol.iterator])}function Oa(a){return F(a)&&!E(a[Symbol.iterator])&&E(a.next)}function Pa(a){return null!=a&&Object(a)===a&&"function"===typeof a.subscribe}function Qa(a){return F(a)&&E(a.pipe)&&E(a._read)&&"boolean"===typeof a.readable&&F(a._readableState)}
function Ra(a){return F(a)&&E(a.end)&&E(a._write)&&"boolean"===typeof a.writable&&F(a._writableState)};function Sa(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a};var Ta=Math.pow(2,53)-1;function G(){}G.prototype.forEach=function(a,b){a=La(a,b);b=0;for(var c=k(this),d=c.next();!d.done;d=c.next())a(d.value,b++)};G.prototype.pipe=function(){for(var a=B.apply(0,arguments),b=-1,c=a.length,d=this;++b<c;)d=a[b](G.as(d));return d};G.as=function(a){return a instanceof G?a:"string"===typeof a?new H([a],C):Na(a)||Ma(a)?new H(a,C):new H([a],C)};
G.from=function(a,b,c){b=void 0===b?C:b;b=La(b,c);if(Na(a)||Ma(a))return new H(a,b);if(Oa(a))return c={},new H((c[Symbol.iterator]=function(){return a},c),b);throw new TypeError("Input type not supported");};G.prototype[Symbol.toStringTag]="IterableX";Object.defineProperty(G,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"IterableX"!==a[Symbol.toStringTag])}});function H(a,b){this.i=a;this.H=b}n(H,G);H.from=G.from;H.as=G.as;
H.prototype[Symbol.iterator]=function Ua(){var b=this,c,d,e,f,g,h,l;return t(Ua,function(m){switch(m.h){case 1:c=Na(b.i);d=0;if(c){m.g(2);break}e=Math.min(Math.max(Sa(b.i.length),0),Ta);case 4:if(!(d<e)){m.g(0);break}f=b.i[d];return q(m,b.H(f,d++),4);case 2:g=k(b.i),h=g.next();case 7:if(h.done){m.g(0);break}l=h.value;return q(m,b.H(l,d++),8);case 8:h=g.next(),m.g(7)}})};
try{(function(a){a||(G.prototype.pipe=function(){for(var b=B.apply(0,arguments),c=-1,d=b.length,e=this,f;++c<d;)if(f=b[c],"function"===typeof f)e=f(G.as(e));else if(Ra(f))return b=b[c+1]||{},b=void 0===b.end?!0:b.end,Qa(e)?f=e.pipe(f,{end:b}):(e=G.as(e),c=e.ta,d=void 0,d=void 0===d?f.na||{ra:!0}:d,f=c.call(e,d).pipe(f,{end:b})),f;return e})})("object"===typeof window&&"object"===typeof document&&9===document.nodeType)}catch(a){};function Va(a){"function"===typeof a.return&&a.return()};function I(a){this.i=a}n(I,G);I.from=G.from;I.as=G.as;I.prototype[Symbol.iterator]=function Wa(){var b,c,d=this,e,f,g,h,l,m,L,x;return t(Wa,function(w){switch(w.h){case 1:b=null,c=!1,e=k(d.i),f=e.next();case 2:if(f.done){w.g(4);break}g=f.value;h=g[Symbol.iterator]();b=null;c=!1;case 5:l={};try{m=h.next();L=m.done;x=m.value;if(L){Va(h);w.g(6);break}l=x}catch(ua){b=ua;c=!0;Va(h);w.g(6);break}return q(w,l,5);case 6:if(!c){w.g(4);break}f=e.next();w.g(2);break;case 4:if(c)throw b;w.h=0}})};function J(a){this.i=a}n(J,G);J.from=G.from;J.as=G.as;J.prototype[Symbol.iterator]=function Xa(){var b=this,c,d,e;return t(Xa,function(f){1==f.h&&(c=k(b.i),d=c.next());if(3!=f.h){if(d.done)return f.g(0);e=d.value;return pa(f,e,3)}d=c.next();return f.g(2)})};function Ya(a){this.H=a}n(Ya,G);Ya.from=G.from;Ya.as=G.as;Ya.prototype[Symbol.iterator]=function(){return this.H()};function Za(a){this.H=a}n(Za,G);Za.from=G.from;Za.as=G.as;Za.prototype[Symbol.iterator]=function $a(){var b=this,c,d,e;return t($a,function(f){1==f.h&&(c=k(b.H()),d=c.next());if(3!=f.h){if(d.done)return f.g(0);e=d.value;return q(f,e,3)}d=c.next();return f.g(2)})};function ab(a){return new Za(a)};function bb(){}n(bb,G);bb.from=G.from;bb.as=G.as;bb.prototype[Symbol.iterator]=function cb(){return t(cb,function(b){b.h=0})};function db(){return new bb};function eb(a,b,c,d){this.ia=a;this.V=b;this.ja=c;this.la=d}n(eb,G);eb.from=G.from;eb.as=G.as;eb.prototype[Symbol.iterator]=function fb(){var b=this,c;return t(fb,function(d){1==d.h&&(c=b.ia);if(3!=d.h)return b.V(c)?q(d,b.la(c),3):d.g(0);c=b.ja(c);return d.g(2)})};function gb(a,b){return a===b||"number"===typeof a&&"number"===typeof b&&isNaN(a)&&isNaN(b)}function hb(a,b){return a>b?1:a<b?-1:0};function ib(a,b,c){var d=[];a=a[Symbol.iterator]();var e=a.next(),f=e.value;if(e.done)throw Error("Sequence contains no elements");e=b(f);for(d.push(f);!(f=a.next()).done;){f=f.value;var g=b(f),h=c(g,e);0===h?d.push(f):0<h&&(d=[f],e=g)}return d};function jb(){return new K(B.apply(0,arguments))}function K(a){this.ha=a}n(K,G);K.from=G.from;K.as=G.as;K.prototype[Symbol.iterator]=function kb(){var b=this;return t(kb,function(c){return pa(c,b.ha,0)})};function M(a){this.i=a}n(M,G);M.from=G.from;M.as=G.as;M.prototype[Symbol.iterator]=function lb(){var b=this,c,d,e,f,g;return t(lb,function(h){switch(h.h){case 1:c=k(b.i),d=c.next();case 2:if(d.done){h.g(0);break}e=d.value;f=e[Symbol.iterator]();case 5:g=void 0;try{g=f.next()}catch(l){h.g(3);break}if(g.done){h.g(3);break}return q(h,g.value,5);case 3:d=c.next(),h.g(2)}})};function mb(a,b){this.$=a;this.C=b}n(mb,G);mb.from=G.from;mb.as=G.as;mb.prototype[Symbol.iterator]=function nb(){var b=this,c,d;return t(nb,function(e){1==e.h&&(c=b.$,d=b.$+b.C);if(3!=e.h)return c<d?q(e,c,3):e.g(0);c++;return e.g(2)})};function ob(a){var b=[];a=k(a);for(var c=a.next();!c.done;c=a.next())b.push(c.value);return b};function pb(a,b){this.i=a;this.C=b}n(pb,G);pb.from=G.from;pb.as=G.as;pb.prototype[Symbol.iterator]=function qb(){var b=this,c,d,e,f,g,h;return t(qb,function(l){switch(l.h){case 1:if(-1===b.C){l.g(11);break}c=0;case 4:if(!(c<b.C)){l.g(0);break}d=k(b.i);e=d.next();case 7:if(e.done){c++;l.g(4);break}f=e.value;return q(l,f,8);case 8:e=d.next();l.g(7);break;case 11:g=k(b.i),e=g.next();case 13:if(e.done){l.g(11);break}h=e.value;return q(l,h,14);case 14:e=g.next(),l.g(13)}})};function rb(a){this.D=a}n(rb,G);rb.from=G.from;rb.as=G.as;rb.prototype[Symbol.iterator]=function sb(){var b=this;return t(sb,function(){throw b.D;})};function N(a){a=Error.call(this,void 0===a?"The operation has been aborted":a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,N.prototype);Error.captureStackTrace(this,this.constructor);this.name="AbortError"}n(N,Error);da.Object.defineProperty(N.prototype,Symbol.toStringTag,{configurable:!0,enumerable:!0,get:function(){return"AbortError"}});function tb(a){if(a&&a.aborted)throw new N;}
Object.defineProperty(N,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return F(a)&&("AbortError"===a.constructor.name||"AbortError"===a[Symbol.toStringTag])}});function O(){}O.prototype.forEach=function(a,b,c){var d=this,e,f,g,h,l;return u(function(m){1==m.h&&(e=c?new ub(d,c):d,f=0,g=Ba(e));if(5!=m.h)return q(m,g.next(),5);h=m.l;if(h.done)return m.g(0);l=h.value;return q(m,a.call(b,l,f++,c),2)})};O.prototype.pipe=function(){for(var a=B.apply(0,arguments),b=-1,c=a.length,d=this;++b<c;)d=a[b](O.as(d));return d};
O.from=function(a,b,c){b=void 0===b?D:b;b=La(b,c);if(Na(a)||F(a)&&E(a[Symbol.asyncIterator]))return new P(a,b);if(F(a)&&E(a.then))return new Q(a,b);if(Pa(a))return new R(a,b);if(Ma(a))return new S(a,b);if(Oa(a))return c={},new P((c[Symbol.asyncIterator]=function(){return a},c),b);throw new TypeError("Input type not supported");};
O.as=function(a){return a instanceof O?a:"string"===typeof a?new S([a],D):Na(a)||F(a)&&E(a[Symbol.asyncIterator])?new P(a,D):F(a)&&E(a.then)?new Q(a,D):Pa(a)?new R(a,D):Ma(a)?new S(a,D):new S([a],D)};O.prototype[Symbol.toStringTag]="AsyncIterableX";Object.defineProperty(O,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"AsyncIterableX"!==a[Symbol.toStringTag])}});function T(){this.W=!1;this.X=[];this.L=[]}T.prototype[Symbol.asyncIterator]=function(){return this};
T.prototype.write=function(a){vb(this,{type:"value",value:a})};T.prototype.error=function(a){vb(this,{type:"error",error:a})};function vb(a,b){if(a.W)throw Error("AsyncSink already ended");if(0<a.L.length){var c=a.L.shift();a=c.resolve;c=c.reject;"error"===b.type?c(b.error):a({done:!1,value:b.value})}else a.X.push(b)}
T.prototype.next=function(){var a=this;if(0<this.X.length){var b=this.X.shift(),c=b.value,d=b.error;return"error"===b.type?Promise.reject(d):Promise.resolve({done:!1,value:c})}return this.W?Promise.resolve({done:!0}):new Promise(function(e,f){a.L.push({resolve:e,reject:f})})};T.prototype.end=function(){for(;0<this.L.length;)this.L.shift().resolve({done:!0});this.W=!0};function S(a,b){this.i=a;this.F=b}n(S,O);S.as=O.as;S.from=O.from;
S.prototype[Symbol.asyncIterator]=function(){var a=this;return new z(function c(){var d,e,f,g;return t(c,function(h){1==h.h&&(d=0,e=Math.min(Math.max(Sa(a.i.length),0),Ta));if(5!=h.h){if(!(d<e))return h.g(0);f=v;g=0;return q(h,new v(2,a.F(a.i[d],d++)),5)}return q(h,new f(g,h.l),2)})}())};function P(a,b){this.i=a;this.F=b}n(P,O);P.as=O.as;P.from=O.from;
P.prototype[Symbol.asyncIterator]=function(){var a=this;return new z(function c(){var d,e,f,g,h,l;return t(c,function(m){switch(m.h){case 1:d=0,e=Ba(a.i);case 2:return q(m,new v(2,e.next()),5);case 5:f=m.l;if(f.done){m.g(0);break}g=f.value;h=v;l=0;return q(m,new v(2,a.F(g,d++)),7);case 7:return q(m,new h(l,m.l),2)}})}())};function Q(a,b){this.i=a;this.F=b}n(Q,O);Q.as=O.as;Q.from=O.from;
Q.prototype[Symbol.asyncIterator]=function(){var a=this;return new z(function c(){var d,e,f;return t(c,function(g){return 1==g.h?q(g,new v(2,a.i),2):4!=g.h?(d=g.l,e=v,f=0,q(g,new v(2,a.F(d,0)),4)):q(g,new e(f,g.l),0)})}())};function R(a,b){this.ka=a;this.F=b}n(R,O);R.as=O.as;R.from=O.from;
R.prototype[Symbol.asyncIterator]=function(a){var b=this;return new z(function d(){function e(){f.error(new N)}var f,g,h,l,m,L;return t(d,function(x){switch(x.h){case 1:tb(a),f=new T,g=b.ka.subscribe({next:function(w){f.write(w)},error:function(w){f.error(w)},complete:function(){f.end()}}),a&&a.addEventListener("abort",e),h=0,ra(x),l=void 0;case 4:return q(x,new v(2,f.next()),7);case 7:if((l=x.l).done){x.g(2);break}tb(a);m=v;L=0;return q(x,new v(2,b.F(l.value,h++)),9);case 9:return q(x,new m(L,x.l),
4);case 2:ta(x),a&&a.removeEventListener("abort",e),g.unsubscribe(),va(x)}})}())};function ub(a,b){this.i=a;this.ma=b}ub.prototype[Symbol.asyncIterator]=function(){return this.i[Symbol.asyncIterator](this.ma)};
try{(function(a){a||(O.prototype.pipe=function(){for(var b=B.apply(0,arguments),c=-1,d=b.length,e=this,f;++c<d;)if(f=b[c],"function"===typeof f)e=f(O.as(e));else if(Ra(f))return b=b[c+1]||{},b=void 0===b.end?!0:b.end,Qa(e)?f=e.pipe(f,{end:b}):(e=O.as(e),c=e.ta,d=void 0,d=void 0===d?f.na||{ra:!0}:d,f=c.call(e,d).pipe(f,{end:b})),f;return e})})("object"===typeof window&&"object"===typeof document&&9===document.nodeType)}catch(a){};function U(a){this.C=0;this.R=a;this.K=new Map}U.prototype.clear=function(){this.K.clear()};U.prototype.done=function(){this.R--};U.prototype.get=function(a){if(!this.K.has(a))throw Error("Element no longer available in the buffer.");var b=this.K.get(a),c=b.value;0===--b.count&&this.K.delete(a);return c};U.prototype.push=function(a){this.K.set(this.C++,{value:a,count:this.R})};
da.Object.defineProperties(U.prototype,{count:{configurable:!0,enumerable:!0,get:function(){return this.C}},fa:{configurable:!0,enumerable:!0,get:function(){return this.R},set:function(a){this.R=a}}});function V(a){this.I=!1;this.i=a;this.u=new U(0)}n(V,G);V.from=G.from;V.as=G.as;V.prototype.P=function wb(a){var c,d,e=this,f;return t(wb,function(g){switch(g.h){case 1:ra(g);case 4:c=!1;d={};if(a>=e.u.count){if(!e.I)try{if(f=e.i.next(),c=!f.done)d=f.value}catch(h){e.D=h,e.I=!0}if(e.I){if(e.D)throw e.D;g.g(2);break}c&&e.u.push(d)}else c=!0;if(!c){g.g(2);break}return q(g,e.u.get(a),6);case 6:a++;g.g(4);break;case 2:ta(g),e.u.done(),va(g)}})};V.prototype[Symbol.iterator]=function(){this.u.fa++;return this.P(this.u.count)[Symbol.iterator]()};
function xb(){return function(a){return new V(a[Symbol.iterator]())}};function W(a,b){this.S=this.D=null;this.I=!1;this.i=a;this.u=b}n(W,O);W.as=O.as;W.from=O.from;W.prototype[Symbol.asyncIterator]=function(a){tb(a);return this.P(0)};
W.prototype.P=function(a){a=void 0===a?0:a;var b=this;return new z(function d(){var e,f,g,h;return t(d,function(l){switch(l.h){case 1:e=a-1,f=!1,g=b.u,ra(l);case 4:if(!(++e<g.count)){l.g(7);break}return q(l,new v(0,g.get(e)),8);case 8:l.g(6);break;case 7:if(b.I)throw b.D;null===b.S&&(b.S=b.i.next().then(function(m){b.S=null;m.done||g.push(m.value);return m}));return q(l,new v(2,b.S.catch(function(m){b.D=m;b.I=!0;throw m;})),9);case 9:h=l.l;if(f=h.done){l.g(6);break}return q(l,new v(0,g.get(e)),6);
case 6:if(!f){l.g(4);break}case 2:ta(l),g.done(),va(l)}})}())};function yb(a){W.call(this,a,new U(0))}n(yb,W);yb.as=W.as;yb.from=W.from;yb.prototype[Symbol.asyncIterator]=function(a){tb(a);this.u.fa++;return this.P(this.u.count)[Symbol.asyncIterator]()};function zb(){return function(a){return new yb(a[Symbol.asyncIterator]())}};var Ab="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function X(a){this.aa=a}n(X,O);X.as=O.as;X.from=O.from;X.prototype[Symbol.asyncIterator]=function(){var a=this.aa,b=a.getReader();return Bb(a,b,Cb(b))};function Db(){X.apply(this,arguments)}n(Db,X);Db.as=X.as;Db.from=X.from;Db.prototype[Symbol.asyncIterator]=function(){var a=this.aa;try{var b=a.getReader({mode:"byob"})}catch(c){return X.prototype[Symbol.asyncIterator].call(this)}a=Bb(a,b,Eb(b));a.next();return a};
function Bb(a,b,c){return new z(function e(){var f,g;return t(e,function(h){switch(h.h){case 1:return f=!1,qa(h),q(h,new v(1,c),3);case 3:ta(h);if(!b){h.g(6);break}if(f){h.g(7);break}return q(h,new v(2,b.cancel()),7);case 7:if(a.locked)try{b.closed.catch(function(){}),b.releaseLock()}catch(l){}case 6:va(h);break;case 2:g=sa(h);if(f=!0,b)return q(h,new v(2,b.cancel(g)),3);h.g(3)}})}())}
function Cb(a){return new z(function c(){var d;return t(c,function(e){return 1==e.h?q(e,new v(2,a.read()),4):(d=e.l).done?e.g(0):q(e,new v(0,d.value),1)})}())}function Eb(a){return new z(function c(){var d,e;return t(c,function(f){switch(f.h){case 1:return q(f,new v(0,null),2);case 2:e=f.l;case 3:return q(f,new v(2,Fb(a,e)),5);case 5:if((d=f.l).done){f.g(0);break}return q(f,new v(0,d.value),6);case 6:e=f.l,f.g(3)}})}())}
function Fb(a,b){var c,d;return u(function(e){if(1==e.h){if("number"===typeof b)d=new ArrayBuffer(c=b);else if(b instanceof ArrayBuffer)c=(d=b).byteLength;else if(b instanceof Ab)c=(d=b).byteLength;else return e.return({done:!0,value:void 0});return q(e,Gb(a,d,0,c),2)}return e.return(e.l)})}
function Gb(a,b,c,d){var e,f,g,h;return u(function(l){switch(l.h){case 1:return e=c,e>=d?l.return({done:!1,value:new Uint8Array(b,0,d)}):q(l,a.read(new Uint8Array(b,e,d-e)),2);case 2:f=l.l;g=f.done;h=f.value;if(!((e+=h.byteLength)<d)||g){l.g(3);break}return q(l,Gb(a,h.buffer,e,d),4);case 4:return l.return(l.l);case 3:return l.return({done:g,value:new Uint8Array(h.buffer,0,e)})}})}function Hb(a,b){return b&&"byob"===b.mode?new Db(a):new X(a)};function Ib(a){this.i=a}Ib.prototype.cancel=function(){var a=this,b;return u(function(c){if(1==c.h)return(b=a.i)&&b.return?q(c,b.return(),2):c.g(2);a.i=null;c.h=0})};function Jb(a){this.i=a}n(Jb,Ib);Jb.prototype.pull=function(a){var b=this,c,d;return u(function(e){if(1==e.h)return(c=b.i)?q(e,c.next(a.desiredSize),3):e.g(2);if(2!=e.h&&(d=e.l,!d.done))return e.return(a.enqueue(d.value));a.close();e.h=0})};
function Kb(a,b){b=void 0===b?{}:b;this.i=a;this.type="bytes";this.autoAllocateChunkSize=b.autoAllocateChunkSize;this.qa=new Jb(a)}n(Kb,Ib);
Kb.prototype.pull=function(a){var b=this,c,d,e,f,g;return u(function(h){switch(h.h){case 1:if(a.byobRequest){h.g(2);break}return q(h,b.qa.pull(a),3);case 3:return h.return(h.l);case 2:if(!b.i){h.g(4);break}c=a.byobRequest;d=c.view;return q(h,b.i.next(d),5);case 5:if(e=h.l,f=e.done,g=e.value,!f){if("number"===typeof g)return h.return(a.byobRequest.respond(g));if(ArrayBuffer.isView(g)){var l=h.return;if(g.buffer===d.buffer)var m=a.byobRequest.respondWithNewView(g);else{m=a.byobRequest;var L=m.respond;
var x=void 0===x?0:x;var w=void 0===w?g.byteLength:w;var ua=d.byteLength,Sb=new Uint8Array(d.buffer,d.byteOffset,ua);w=new Uint8Array(g.buffer,g.byteOffset,Math.min(w,ua,g.buffer.byteLength-g.byteOffset));Sb.set(w,x);m=L.call(m,w.byteLength)}return l.call(h,m)}}case 4:a.close(),h.h=0}})};
var Lb=function(){function a(e,f){return e instanceof Kb?new c(e,f):new d(e,f)}function b(e,f){function g(){return ReadableStream.apply(this,arguments)||this}function h(){return ReadableStream.apply(this,arguments)||this}n(h,ReadableStream);h.prototype[Symbol.asyncIterator]=function(){return Hb(this)[Symbol.asyncIterator]()};n(g,ReadableStream);g.prototype[Symbol.asyncIterator]=function(){return Hb(this,{mode:"byob"})[Symbol.asyncIterator]()};c=g;d=h;b=a;return a(e,f)}var c,d;return function(e,f){return b(e,
f)}}();function Mb(a,b){return b&&"type"in b&&"bytes"===b.type?Lb(new Kb(a[Symbol.asyncIterator](),b),b):Lb(new Jb(a[Symbol.asyncIterator]()),b)}O.prototype.tee=function(){return Nb(this).tee()};O.prototype.pipeTo=function(a,b){return Nb(this).pipeTo(a,b)};O.prototype.pipeThrough=function(a,b){return Nb(this).pipeThrough(a,b)};function Nb(a){return a.U||(a.U=a.pipe(zb(),Mb))}O.prototype.toDOMStream=function(a){return a?Mb(this,a):Mb(this)};function Ob(a,b){return Mb(O.as(a),b)}G.prototype.tee=function(){return Pb(this).tee()};G.prototype.pipeTo=function(a,b){return Pb(this).pipeTo(a,b)};G.prototype.pipeThrough=function(a,b){return Pb(this).pipeThrough(a,b)};function Pb(a){return a.U||(a.U=a.pipe(xb(),Ob))}function Qb(a){return a?Ob(this,a):Ob(this)}G.prototype.toDOMStream=Qb;function Rb(a,b){this.V=a;this.i=b}n(Rb,G);Rb.from=G.from;Rb.as=G.as;Rb.prototype[Symbol.iterator]=function Tb(){var b=this;return t(Tb,function(c){return b.V()?pa(c,b.i,1):c.g(0)})};function Y(a){this.Z=a}n(Y,G);Y.from=G.from;Y.as=G.as;Y.prototype[Symbol.iterator]=function Ub(){var b=this,c,d,e,f,g;return t(Ub,function(h){1==h.h&&(c=b.Z.length,d=b.Z.map(function(l){return l[Symbol.iterator]()}));if(!(0<c))return h.g(0);e=Array(c);for(f=-1;++f<c;){g=d[f].next();if(g.done)return d.forEach(Va),h.return(void 0);e[f]=g.value}return q(h,e,2)})};var Vb=G.as,Wb=G.from;var Z={};Z.CatchIterable=I;Z.ConcatIterable=J;Z.FromIterable=H;Z.IterableX=G;Z.OfIterable=K;Z.OnErrorResumeNextIterable=M;Z.ZipIterable=Y;Z.as=Vb;Z.average=function(a,b){var c=b||{};b=c.selector;b=void 0===b?C:b;c=c.thisArg;var d=0,e=0;a=k(a);for(var f=a.next();!f.done;f=a.next())d+=b.call(c,f.value),e++;if(0===e)throw Error("Empty collection");return d/e};Z.catchAll=function(a){return new I(a)};Z.catchError=function(){return new I(B.apply(0,arguments))};
Z.concat=function(){return new J(B.apply(0,arguments))};Z.count=function(a,b){var c=b||{};b=c.thisArg;c=c.predicate;c=void 0===c?function(){return!0}:c;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())c.call(b,e.value,d)&&d++;return d};Z.create=function(a){return new Ya(a)};Z.defer=ab;Z.elementAt=function(a,b){a=k(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;if(0===b)return c;b--}};Z.empty=db;
Z.every=function(a,b){var c=b.thisArg;b=b.predicate;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())if(!b.call(c,e.value,d++))return!1;return!0};Z.find=function(a,b){var c=b.thisArg;b=b.predicate;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())if(e=e.value,b.call(c,e,d++))return e};Z.findIndex=function(a,b){var c=b.thisArg;b=b.predicate;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())if(b.call(c,e.value,d++))return d;return-1};
Z.first=function(a,b){var c=b||{};b=c.thisArg;c=c.predicate;c=void 0===c?function(){return!0}:c;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())if(e=e.value,c.call(b,e,d++))return e};Z.from=Wb;Z.generate=function(a,b,c,d){return new eb(a,b,c,d)};Z.iif=function(a,b,c){c=void 0===c?db():c;return ab(function(){return a()?b:c})};Z.includes=function(a,b,c){c=void 0===c?0:c;var d=0;Math.abs(c)&&(c=0);a=k(a);for(var e=a.next();!e.done;e=a.next())if(e=e.value,d++>c&&gb(e,b))return!0;return!1};
Z.isEmpty=function(a){for(a=k(a).next();!a.done;)return!1;return!0};Z.last=function(a,b){var c=b||{};b=c.thisArg;c=c.predicate;c=void 0===c?function(){return!0}:c;var d=0,e;a=k(a);for(var f=a.next();!f.done;f=a.next())f=f.value,c.call(b,f,d++)&&(e=f);return e};
Z.max=function(a,b){var c=b||{};b=c.comparer;b=void 0===b?hb:b;c=c.selector;c=void 0===c?C:c;a=a[Symbol.iterator]();var d=a.next();if(d.done)throw Error("Sequence contains no elements");for(var e=c(d.value);!(d=a.next()).done;)d=c(d.value),0<b(d,e)&&(e=d);return e};Z.maxBy=function(a,b){b=b||{};var c=b.comparer;return ib(a,b.selector,void 0===c?hb:c)};
Z.min=function(a,b){var c=b||{};b=c.comparer;b=void 0===b?hb:b;c=c.selector;c=void 0===c?C:c;a=a[Symbol.iterator]();var d=a.next();if(d.done)throw Error("Sequence contains no elements");for(var e=c(d.value);!(d=a.next()).done;)d=c(d.value),0>b(d,e)&&(e=d);return e};Z.minBy=function(a,b){b=b||{};var c=b.comparer,d=void 0===c?hb:c;return ib(a,b.selector,function(e,f){return-d(e,f)})};Z.of=jb;Z.onErrorResumeNext=function(){return new M(B.apply(0,arguments))};Z.range=function(a,b){return new mb(a,b)};
Z.reduce=function(a,b,c){var d="function"===typeof b?2<arguments.length?{callback:b,seed:c}:{callback:b}:b,e=d.seed,f=d.callback;d=d.hasOwnProperty("seed");for(var g=0,h=!1,l=k(a),m=l.next();!m.done;m=l.next())m=m.value,h||(h=d)?e=f(e,m,g++):(e=m,h=!0,g++);if(!d&&!h)throw Error("Sequence contains no elements");return e};
Z.reduceRight=function(a,b,c){var d="function"===typeof b?2<arguments.length?{callback:b,seed:c}:{callback:b}:b,e=d.seed,f=d.callback;d=d.hasOwnProperty("seed");for(var g=ob(a),h=!1,l=g.length-1;0<=l;l--){var m=g[l];h||(h=d)?e=f(e,m,l):(e=m,h=!0)}if(!d&&!h)throw Error("Sequence contains no elements");return e};Z.repeatValue=function(a,b){return new pb(jb(a),void 0===b?-1:b)};
Z.sequenceEqual=function(a,b,c){c=(c||{}).comparer;c=void 0===c?gb:c;a=a[Symbol.iterator]();b=b[Symbol.iterator]();for(var d,e;!(d=a.next()).done;)if((e=b.next()).done||!c(d.value,e.value))return!1;return!!b.next().done};Z.single=function(a,b){var c=b||{};b=c.thisArg;c=c.predicate;c=void 0===c?function(){return!0}:c;var d=!1,e=0;a=k(a);for(var f=a.next();!f.done;f=a.next()){f=f.value;if(d&&c.call(b,f,e++))throw Error("More than one element was found");if(c.call(b,f,e++)){var g=f;d=!0}}return g};
Z.some=function(a,b){var c=b.thisArg;b=b.predicate;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())if(b.call(c,e.value,d++))return!0;return!1};Z.sum=function(a,b){var c=b||{};b=c.selector;b=void 0===b?C:b;c=c.thisArg;var d=0;a=k(a);for(var e=a.next();!e.done;e=a.next())d+=b.call(c,e.value);return d};Z.throwError=function(a){return new rb(a)};Z.toArray=ob;Z.toDOMStream=Ob;Z.toDOMStreamProto=Qb;
Z.toMap=function(a,b){var c=b||{};b=c.elementSelector;b=void 0===b?C:b;c=c.keySelector;c=void 0===c?C:c;var d=new Map;a=k(a);for(var e=a.next();!e.done;e=a.next()){var f=e.value;e=b(f);f=c(f);d.set(f,e)}return d};Z.toSet=function(a){var b=new Set;a=k(a);for(var c=a.next();!c.done;c=a.next())b.add(c.value);return b};Z.whileDo=function(a,b){return new Rb(b,a)};Z.zip=function(){return new Y(B.apply(0,arguments))};Ka.prototype[Symbol.toStringTag]="__await";Object.defineProperty(Ka,Symbol.hasInstance,{writable:!0,configurable:!0,value:function(a){return!(!a||"__await"!==a[Symbol.toStringTag])}});Object.assign(arguments[0],Z);}.bind(this))));

//# sourceMappingURL=Ix.dom.iterable.es5.min.js.map
